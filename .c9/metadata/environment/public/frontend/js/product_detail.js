{"changed":true,"filter":false,"title":"product_detail.js","tooltip":"/public/frontend/js/product_detail.js","value":"// GLOBAL VARIABLE for the changeAttribute function\n    FIRST_CLICKED_ATTRIBUTE = '';\n    FIRST_CLICKED_ATTRIBUTE_OPTION = '';\n    FIRST_CLICKED_HTML = '';\n    \n$(document).ready(function() {\n\n    var main_image = \"\";\n    $('.more').children().css('font-size', '15px');\n    //$('.more').find('span>span>span>span').css('font-size', '15px');\n\n    $('.more').find('span').css('color', '#044651');\n    //$('.more').find('p>span').css('font-size', '15px');\n\n    //$('.more').find('h3>span').css('font-size', '15px');\n    //$('.more').find('h3>span>span').css('font-size', '15px');\n    // $('.more').find('h3>span>span>span').css('font-size', '15px');\n    // $('.more').find('h3>span>span>span>span').css('font-size', '15px');\n    // $('.more').find('h3>span>span>span>span>span').css('font-size', '15px');\n    // $('.more').find('h3>span>span>strong>span').css('font-size', '15px');\n    //$('.more').find('h3>span>span>strong>span>span').css('font-size', '15px');\n    //$('.more').find('h3>span>span>strong>span>span>span').css('font-size', '15px');\n\n    $('.more').find('td').css('background-color', '#ffffff');\n\n    //$('.more').find('td>span').css('font-size', '15px');\n    //$('.more').find('td>span>span').css('font-size', '15px');\n    //$('.more').find('td>span>span>span').css('font-size', '15px');\n    //$('.more').find('td>span>span>span>span').css('font-size', '15px');\n    //$('.more').find('td>span>span>span>span>span').css('font-size', '15px');\n\n    //$('.more').find('h1').css('font-size', '15px');\n    //$('.more').find('h1>span').css('font-size', '15px');\n    //$('.more').find('h1>span>span').css('font-size', '15px');\n    //$('.more').find('h1>span>span>span').css('font-size', '15px');\n    //$('.more').find('h1>span>span>span>span').css('font-size', '15px');\n    //$('.more').find('h1>span>span>span>span>span').css('font-size', '15px');\n\n\n    //$('.more').find('h2>span').css('font-size', '15px');\n    //$('.more').find('h2>span>span').css('font-size', '15px');\n    //$('.more').find('h2>span>span>strong>span').css('font-size', '15px');\n    //$('.more').find('h2>span>span>strong>span>span').css('font-size', '15px');\n    //$('.more').find('h2>span>span>span').css('font-size', '15px');\n    //$('.more').find('h2>span>span>span>span').css('font-size', '15px');\n    //$('.more').find('h2>span>span>span>span>span').css('font-size', '15 px');\n\n\n    $('.more > ul').css('list-style-type', 'square');\n    //$('.more').find('ul>li>span').css('font-size', '15px');\n\n    $('.more').find('th').css({ \"padding\": \"0px 10px 16px 10px\", \"border\": \"1px solid #212b52\" });\n    $('.more').find('td').css({ \"padding\": \"0px 10px 16px 10px\", \"border\": \"1px solid #212b52\" });\n    //$('.more').find('td>p>span>span>strong>span').css(\"font-size\", \"15px\");\n\n\n    var buttonTextM = \"\";\n    var buttonTextL = \"\";\n    if ($('#language').val() == \"fr\") {\n        buttonTextM = \"More details\";\n        buttonTextL = \"Less details\";\n    }\n    else {\n        buttonTextM = \"Plus de détails\";\n        buttonTextL = \"Moins de détails\";\n    }\n\n    $('#btn_details').click(function(e) {\n        if ($('#productTabContent').hasClass('height-content')) {\n            $('#productTabContent').removeClass('height-content');\n            $('.tabs-limit').addClass('hidden');\n            $(\"#btn_details\").val(buttonTextL);\n        }\n        else {\n            $('#productTabContent').addClass('height-content');\n            $(\"#btn_details\").val(buttonTextM);\n            $('.tabs-limit').removeClass('hidden');\n        }\n    });\n    $('.review-make').click(function(e) {\n        $('.content-review-form').removeClass('hidden');\n    });\n    $('.description-toggle').click(function(e) {\n        $('.tabs-details').removeClass('hidden');\n        if ($('#btn_details').val() == \"Plus de détails\" || $('#btn_details').val() == \"More details\") {\n            $('.tabs-limit').removeClass('hidden');\n            $('#productTabContent').addClass('height-content');\n        }\n        else {\n            $('.tabs-limit').addClass('hidden');\n            $('#productTabContent').removeClass('height-content');\n        }\n        $('.tabs-details').removeClass('hidden');\n        $('#productTabContent').removeClass('mr-sans-contenu-content');\n    });\n    $('.review-toggle').click(function(e) {\n\n        if ($('#btn_details').val() == \"Plus de détails\" || $('#btn_details').val() == \"More details\") {\n            $('.tabs-limit').removeClass('hidden');\n            $('#productTabContent').addClass('height-content');\n        }\n        else {\n            $('.tabs-limit').addClass('hidden');\n            $('#productTabContent').removeClass('height-content');\n        }\n        if ($('.review-login').hasClass('mr-sans-contenu')) {\n            $('#productTabContent').addClass('mr-sans-contenu-content');\n            $('.tabs-details').addClass('hidden');\n            $('.tabs-limit').addClass('hidden');\n        }\n        else {\n            $('#productTabContent').removeClass('mr-sans-contenu-content');\n            $('.tabs-details').removeClass('hidden');\n            $('.tabs-limit').removeClass('hidden');\n        }\n    });\n\n    var product_conatainer = $(\".product-area\");\n    $(product_conatainer).find(\".submit-review\").on(\"click\", function(e) {\n        e.preventDefault();\n        var data = $('#review_form').serialize() + '&rating=' + $(\".rating-container\").find(\".fullStar\").length;\n        if (!$('#review_form').valid()) {\n            return;\n        }\n\n        $.ajax({\n            type: 'POST',\n            url: base_url + language_code + '/submit-review',\n            data: data,\n            beforeSend: function() {\n                $.LoadingOverlay(\"show\", { 'size': \"10%\", 'zIndex': 9999 });\n            },\n            success: function(response, status) {\n                if (response.success) {\n                    $(\"#review-success\").addClass('alert alert-success').html(response.message);\n                    $('#comment').val('');\n                }\n                else {\n                    $(\"#review-error\").addClass('alert alert-danger').html(response.message);\n                }\n                 $.LoadingOverlay(\"hide\");\n            },\n            error: function(xhr){\n                console.log(xhr.responseText);\n                 $.LoadingOverlay(\"hide\");\n            }\n        });\n    });\n    $(\"#twitter-sharing\").click(function(e) {\n        e.preventDefault();\n        var twitter = $(this).find(\".twitter-share-button\");\n        var loc = twitter.data('src');\n        var title = twitter.data('text');\n        window.open('http://twitter.com/share?url=' + loc + '&text=' + title + '&', 'twitterwindow', 'height=450, width=550, top=' + ($(window).height() / 2 - 225) + ', left=' + $(window).width() / 2 + ', toolbar=0, location=0, menubar=0, directories=0, scrollbars=0');\n    });\n    $(product_conatainer).find(\"#check-product\").off();\n    $(product_conatainer).find(\"#check-product\").on(\"click\", function(e) {\n        var zip_code = $(\"#zip_code\").val();\n        var product_id = $('#product-id').val();\n        var radius = $('#distance').val();\n        // $(\"#zip-code-error\").toggleClass('hidden',(zip_code == null));\n        if ($.trim(zip_code) == \"\") {\n            $(\"#zip_code\").css('border-color', 'red');\n            return false;\n        }\n        $(\"#zip_code\").css('border-color', '#ccc');\n\n        $.ajax({\n            type: 'POST',\n            url: base_url + language_code + '/get-distance',\n            data: { 'zip_code': zip_code, 'requested_distance': radius, 'product_id': product_id },\n            success: function(response, status) {\n                $(\".product-check-error\").html('');\n                if (response.success) {\n                    $(\"#radius\").val($(\"#distance\").val());\n                    $(\"#postal_code\").val($(\"#zip_code\").val());\n                    $(\"#zip_code\").val('');\n                    // $(\"#add-to-cart\").removeClass('hidden').show();\n                    // $(\"#check-product, #zip-code-error\").hide();\n                    $(product_conatainer).find('#buying_label,#buying_area,#product-not-avail').removeClass('hide').addClass('hide');\n                    $(product_conatainer).find('#add-cart').removeClass('hide');\n                    $(product_conatainer).find('#see_best_price').removeClass('hide');\n                    $(product_conatainer).find('.affiliate-container').addClass('hide');\n                    $(product_conatainer).find('.share-community').addClass('mr-l-15');\n\n                }\n                else {\n                    $(product_conatainer).find('#buying_label,#buying_area,#add-cart').removeClass('hide').addClass('hide');\n                    $(product_conatainer).find('#product-not-avail').removeClass('hide');\n                    $(product_conatainer).find('#see_best_price').addClass('hide');\n                    $(product_conatainer).find('.affiliate-container').removeClass('hide');\n                    $(product_conatainer).find('.share-community').removeClass('mr-l-15');\n\n                }\n            }\n        });\n    });\n\n    $(\".add-your-review\").click(function() {\n        $('html, body').animate({\n            scrollTop: $(\"#tab-container\").offset().top - 50\n        }, 1000);\n    });\n\n    product_conatainer.find('img.attr-element').on('click', function() {\n        $element = $(this);\n        product_conatainer.find(\"img.attr-element\").removeClass('active');\n        $element.parents(\"ul\").find('li').removeClass('active');\n        $element.parents('li').addClass('active');\n        $element.addClass('active');\n        product_conatainer.find('#color_attribute_id').val($element.data(\"product_attribute_option_id\"));\n    });\n\n    $(\"#ask-local-product\").click(function(e) {\n        e.preventDefault();\n        if (!$('#ask_product_form').valid()) {\n            return;\n        }\n        var form = $(this).parents('form');\n        var data = $('#ask_product_form').serialize() + '&radius=' + $(\".ask-page-radius\").val() + '&zip_code=' + $(\".ask-page-zip-code\").val();\n        $.ajax({\n            type: 'POST',\n            url: base_url + language_code + '/product-available',\n            data: data,\n            success: function(response, status) {\n                if (response.success === '1') {\n                    $(\".ask-order-page-success\").removeClass('hide').find('span').text(response.message);\n                    form.get(0).reset();\n                }\n                else if (response.success === '2') {\n                    location.href = base_url + 'login';\n                }\n                else {\n                    $(\".ask-order-page-warning\").removeClass('hide').find('span').text(response.message);\n                }\n            }\n        });\n    })\n    /*$(document).ajaxStart(function() {\n        $.LoadingOverlay(\"show\", { 'size': \"10%\", 'zIndex': 9999 });\n    });\n    $(document).ajaxStop(function() {\n        $.LoadingOverlay(\"hide\");\n    });*/\n    $(\".thumb-image\").click(function(e) {\n        e.preventDefault();\n        $('.thumb-image').find('.active').removeClass('active');\n        main_image = $(this).find('img').data('image');\n        $(\".main-image\").attr('src', main_image).attr('data-zoom-image', main_image);\n        $('.image-thumb').removeClass('hidden');\n        $('.zoomWindow').css('border', '1px solid black !important');\n        $(this).find('img').addClass('active');\n        if ($('.enabled').length != 0) {\n            $('.zoomContainer').hide();\n        }\n        $('#main_image').trigger('zoom.destroy');\n        if (window.innerWidth < 768) {\n            $('#image_main').zoom({ on: 'grab', url: main_image });\n        }\n        else if (window.innerWidth < 991) {\n            $('#image_main').zoom({ on: 'grab', url: main_image });\n        }\n        else if (window.innerWidth < 1199) {\n            $('#image_main').zoom({ on: 'grab', url: main_image });\n        }\n        else {\n            $('#image_main').zoom({ on: 'click', url: main_image });\n        }\n    });\n    if (window.innerWidth < 768) {\n        $('#image_main').zoom({ on: 'grab' });\n        console.log(\"On doit zoomer\");\n    }\n    else if (window.innerWidth < 991) {\n        $('#image_main').zoom({ on: 'grab' });\n    }\n    else if (window.innerWidth < 1199) {\n        $('#image_main').zoom({ on: 'grab' });\n    }\n    else {\n        $('#image_main').zoom({ on: 'click' });\n    }\n\n    $('.rating-container').rating();\n\n    $(product_conatainer).find(\".product-select\").on(\"click\", function(e) {\n        var price = $(this).find(\".price\").data('price');\n        var name = $(this).find(\".product-name\").text();\n        var url = $(this).find(\".product-name\").attr('href');\n        $(\"#product_name\").val(name);\n        $(\"#product_price\").val(price);\n        $(\"#product_url\").val(url);\n    });\n\n    $(product_conatainer).on('click', '#buy_locally', function() {\n        $(product_conatainer).find('#buying_area').toggleClass('hide');\n        if ($(product_conatainer).find('#buying_area').hasClass('hide')) {\n            $(product_conatainer).find('#buying_label').removeClass('hide');\n        }\n        else {\n            $(product_conatainer).find('#buying_label').addClass('hide');\n            $(product_conatainer).find('#see_best_price').removeClass('hide');\n            $(product_conatainer).find('.affiliate-container').addClass('hide');\n            $(product_conatainer).find('.share-community').addClass('mr-l-15');\n        }\n        $(product_conatainer).find('#add-cart').removeClass('hide').addClass('hide');\n        $(product_conatainer).find('#product-not-avail').removeClass('hide').addClass('hide');\n    });\n\n    $(product_conatainer).on('click', '#see_best_price', function() {\n        if ($(product_conatainer).find('.affiliate-container').hasClass('hide')) {\n            $(product_conatainer).find('.affiliate-container').removeClass('hide');\n            $(product_conatainer).find('.share-community').removeClass('mr-l-15');\n        }\n        else {\n            $(product_conatainer).find('.affiliate-container').addClass('hide');\n            $(product_conatainer).find('.share-community').addClass('mr-l-15');\n        }\n    });\n\n    //$('.flex-viewport').css('position', 'absolute');\n    $('.image-thumb').removeClass('hidden');\n    if ($('.fixed-width').length <= 2 && ($('.fixed-width').length > 0)) {\n        $('.image-thumb').css('margin-left', '-10%');\n        $('.fixed-width').removeClass('fixed-width').addClass('width-fixed');\n        $('.width-fixed').css('width', '150px !important');\n        $('.product-big-image .previews-list li').css('margin-right', '30px');\n        $('.product-big-image .flexslider-thumb').css('margin-top', '30%');\n    }\n    \n    $('#add-to-cart').click(function(){\n        $('.product-input-select').each(function(index, element){\n            if($(element).val() == null){\n                if(!$(this).hasClass('invalid')){\n                    $(element).addClass('invalid');\n                    $(element).parent().append(\"<label class='error' style='font-size: 14px; font-weight:500 !important; text-transform: lowercase;'>Veuillez sélectionner s'il vous plait</label>\");\n                }\n            }\n        });\n        if($('.containt-product-info').find('.invalid').length == 0) {\n            $('#product_form').submit();\n        }\n    });\n    $('.product-input-select').change(function(){\n         if($(this).hasClass('invalid')){\n            $(this).removeClass('invalid');\n            $(this).parent().find('.error').remove();\n        }\n    });\n    \n    $('.product-input-select').val('default');\n  \n    $('[name=\"attrs[]\"]').bind('change', function() {\n        console.log('$$$$$' + $('[data-attribute=\"83\"').html())\n        FIRST_CLICKED_ATTRIBUTE = $(this).attr('data-attribute');\n        FIRST_CLICKED_ATTRIBUTE_OPTION = $(this).val();\n        $('.product-input-select option').removeAttr('selected');\n        $(this).find('[value = ' + FIRST_CLICKED_ATTRIBUTE_OPTION + ']').attr('selected', 'selected');\n        FIRST_CLICKED_HTML = $(this).html();\n        changeAttribute($(this), $('[name=\"product_id\"]').val());\n        \n        //$('[name=\"attrs[]\"]').unbind('change');\n    });\n})\n\nfunction changeAttribute(box, product_id) {\n    // console.log(FIRST_CLICKED_ATTRIBUTE);\n    // console.log(FIRST_CLICKED_ATTRIBUTE_OPTION);\n    // console.log(FIRST_CLICKED_HTML);\n    \n    // $(box).find('option').removeAttr('selected');\n    // console.log('********' + $(box).html());\n    // var attribute_option = $(box).val();\n    // console.log('########' + attribute_option);\n    // $(box).find('[value = ' + attribute_option + ']').attr('selected', 'selected');\n    \n    console.log('********' + $(box).html());\n    console.log('$$$$$$$$$$$' + $(box).val())\n    var attribute_option_id = $(box).val();\n    var url = $(box).attr('data-route');\n    var parent = $(box).attr('data-attribute');\n    var select_value = {};\n    var key = '';\n    $('[name=\"attrs[]\"]').each(function( index ) {\n        key = $(this).attr('data-attribute');\n        select_value[key] = $(this).val();\n    });\n    \n    console.log(JSON.stringify(select_value))\n    var data = {'product_id': product_id, 'attribute_option_id': attribute_option_id};\n    \n    // Vérifie si c'est le dernier select key = last key\n    var next_select = $(box).parent().next('.form-group').find('select');\n    var last_empty = not_empty_except_last(select_value, key);\n    if(next_select.length == 0 && last_empty) {\n        // ne fait rien\n        console.log('dernier select ');\n    }\n    else{\n        $.ajax({\n            dataType: 'json',\n            type: 'POST',\n            url: url,\n            data: data,\n            beforeSend: function() {\n                $.LoadingOverlay(\"show\", { 'size': \"10%\", 'zIndex': 9999 });\n            },\n            success: function(response, status) {\n                console.log(response);\n                $('[name=\"attrs[]\"]').html('');\n                $.each(response, function(key, value){\n                    \n                    if(isInMap(value.attribute_option_id, select_value)){\n                        \n                        $('[data-attribute=\"'+ value.attribute_id +'\"]').append('<option value=\"' + value.attribute_option_id + '\" selected=\"selected\">' + value.option_name + '</option>') \n                    }\n                    else \n                        $('[data-attribute=\"'+ value.attribute_id +'\"]').append('<option value=\"' + value.attribute_option_id + '\" >' + value.option_name + '</option>')    \n                })\n                \n                $('[data-attribute=\"'+ FIRST_CLICKED_ATTRIBUTE +'\"]').html(FIRST_CLICKED_HTML);\n                $.LoadingOverlay(\"hide\");\n                \n            },\n            error: function(xhr){\n                console.log('Erreur' + xhr.responseText);\n                $.LoadingOverlay(\"hide\");\n            }\n        }); \n    }\n    \n}\n\nfunction not_empty_except_last(tab, last_key){\n    var resp = true;\n    $.map( tab, function( val, i ) {\n      if(!val && i!=last_key) resp = false;\n    });\n    return resp;\n}\n\nfunction isInMap(value, tab){\n    var resp = false;\n    $.map( tab, function( val, i ) {\n      if(i == value){ resp = true;console.log(i + '******');}\n    });\n    return resp;\n}","undoManager":{"mark":98,"position":100,"stack":[[{"start":{"row":410,"column":23},"end":{"row":410,"column":30},"action":"insert","lines":["isInMap"],"id":1049}],[{"start":{"row":440,"column":7},"end":{"row":441,"column":0},"action":"insert","lines":["",""],"id":1050},{"start":{"row":441,"column":0},"end":{"row":441,"column":4},"action":"insert","lines":["    "]},{"start":{"row":441,"column":4},"end":{"row":441,"column":5},"action":"insert","lines":["r"]},{"start":{"row":441,"column":5},"end":{"row":441,"column":6},"action":"insert","lines":["e"]},{"start":{"row":441,"column":6},"end":{"row":441,"column":7},"action":"insert","lines":["t"]},{"start":{"row":441,"column":7},"end":{"row":441,"column":8},"action":"insert","lines":["u"]}],[{"start":{"row":441,"column":8},"end":{"row":441,"column":9},"action":"insert","lines":["r"],"id":1051},{"start":{"row":441,"column":9},"end":{"row":441,"column":10},"action":"insert","lines":["n"]}],[{"start":{"row":441,"column":10},"end":{"row":441,"column":11},"action":"insert","lines":[" "],"id":1052},{"start":{"row":441,"column":11},"end":{"row":441,"column":12},"action":"insert","lines":["f"]}],[{"start":{"row":441,"column":12},"end":{"row":441,"column":13},"action":"insert","lines":["a"],"id":1053},{"start":{"row":441,"column":13},"end":{"row":441,"column":14},"action":"insert","lines":["l"]},{"start":{"row":441,"column":14},"end":{"row":441,"column":15},"action":"insert","lines":["s"]},{"start":{"row":441,"column":15},"end":{"row":441,"column":16},"action":"insert","lines":["e"]},{"start":{"row":441,"column":16},"end":{"row":441,"column":17},"action":"insert","lines":[";"]}],[{"start":{"row":439,"column":6},"end":{"row":439,"column":32},"action":"remove","lines":["console.log(val + ' ' + i)"],"id":1054}],[{"start":{"row":439,"column":6},"end":{"row":439,"column":7},"action":"insert","lines":["i"],"id":1055},{"start":{"row":439,"column":7},"end":{"row":439,"column":8},"action":"insert","lines":["f"]}],[{"start":{"row":439,"column":8},"end":{"row":439,"column":10},"action":"insert","lines":["()"],"id":1056}],[{"start":{"row":439,"column":9},"end":{"row":439,"column":10},"action":"insert","lines":["v"],"id":1057},{"start":{"row":439,"column":10},"end":{"row":439,"column":11},"action":"insert","lines":["a"]},{"start":{"row":439,"column":11},"end":{"row":439,"column":12},"action":"insert","lines":["l"]}],[{"start":{"row":439,"column":12},"end":{"row":439,"column":13},"action":"insert","lines":[" "],"id":1058},{"start":{"row":439,"column":13},"end":{"row":439,"column":14},"action":"insert","lines":["="]},{"start":{"row":439,"column":14},"end":{"row":439,"column":15},"action":"insert","lines":["="]}],[{"start":{"row":439,"column":15},"end":{"row":439,"column":16},"action":"insert","lines":[" "],"id":1059},{"start":{"row":439,"column":16},"end":{"row":439,"column":17},"action":"insert","lines":["v"]},{"start":{"row":439,"column":17},"end":{"row":439,"column":18},"action":"insert","lines":["a"]},{"start":{"row":439,"column":18},"end":{"row":439,"column":19},"action":"insert","lines":["l"]}],[{"start":{"row":439,"column":19},"end":{"row":439,"column":20},"action":"insert","lines":["u"],"id":1060},{"start":{"row":439,"column":20},"end":{"row":439,"column":21},"action":"insert","lines":["e"]}],[{"start":{"row":439,"column":22},"end":{"row":439,"column":23},"action":"insert","lines":[" "],"id":1061},{"start":{"row":439,"column":23},"end":{"row":439,"column":24},"action":"insert","lines":["r"]},{"start":{"row":439,"column":24},"end":{"row":439,"column":25},"action":"insert","lines":["e"]},{"start":{"row":439,"column":25},"end":{"row":439,"column":26},"action":"insert","lines":["t"]},{"start":{"row":439,"column":26},"end":{"row":439,"column":27},"action":"insert","lines":["u"]}],[{"start":{"row":439,"column":27},"end":{"row":439,"column":28},"action":"insert","lines":["r"],"id":1062},{"start":{"row":439,"column":28},"end":{"row":439,"column":29},"action":"insert","lines":["n"]}],[{"start":{"row":439,"column":29},"end":{"row":439,"column":30},"action":"insert","lines":[" "],"id":1063},{"start":{"row":439,"column":30},"end":{"row":439,"column":31},"action":"insert","lines":["t"]},{"start":{"row":439,"column":31},"end":{"row":439,"column":32},"action":"insert","lines":["r"]},{"start":{"row":439,"column":32},"end":{"row":439,"column":33},"action":"insert","lines":["u"]},{"start":{"row":439,"column":33},"end":{"row":439,"column":34},"action":"insert","lines":["e"]}],[{"start":{"row":439,"column":34},"end":{"row":439,"column":35},"action":"insert","lines":[";"],"id":1064}],[{"start":{"row":438,"column":36},"end":{"row":439,"column":0},"action":"insert","lines":["",""],"id":1065},{"start":{"row":439,"column":0},"end":{"row":439,"column":8},"action":"insert","lines":["        "]},{"start":{"row":439,"column":8},"end":{"row":439,"column":9},"action":"insert","lines":["c"]},{"start":{"row":439,"column":9},"end":{"row":439,"column":10},"action":"insert","lines":["o"]},{"start":{"row":439,"column":10},"end":{"row":439,"column":11},"action":"insert","lines":["n"]},{"start":{"row":439,"column":11},"end":{"row":439,"column":12},"action":"insert","lines":["s"]},{"start":{"row":439,"column":12},"end":{"row":439,"column":13},"action":"insert","lines":["o"]},{"start":{"row":439,"column":13},"end":{"row":439,"column":14},"action":"insert","lines":["l"]},{"start":{"row":439,"column":14},"end":{"row":439,"column":15},"action":"insert","lines":["e"]}],[{"start":{"row":439,"column":15},"end":{"row":439,"column":16},"action":"insert","lines":["."],"id":1066},{"start":{"row":439,"column":16},"end":{"row":439,"column":17},"action":"insert","lines":["l"]},{"start":{"row":439,"column":17},"end":{"row":439,"column":18},"action":"insert","lines":["o"]},{"start":{"row":439,"column":18},"end":{"row":439,"column":19},"action":"insert","lines":["g"]}],[{"start":{"row":439,"column":19},"end":{"row":439,"column":21},"action":"insert","lines":["()"],"id":1067}],[{"start":{"row":439,"column":20},"end":{"row":439,"column":21},"action":"insert","lines":["v"],"id":1068},{"start":{"row":439,"column":21},"end":{"row":439,"column":22},"action":"insert","lines":["a"]},{"start":{"row":439,"column":22},"end":{"row":439,"column":23},"action":"insert","lines":["l"]}],[{"start":{"row":439,"column":23},"end":{"row":439,"column":24},"action":"insert","lines":[" "],"id":1069},{"start":{"row":439,"column":24},"end":{"row":439,"column":25},"action":"insert","lines":["+"]}],[{"start":{"row":439,"column":25},"end":{"row":439,"column":26},"action":"insert","lines":[" "],"id":1070}],[{"start":{"row":439,"column":26},"end":{"row":439,"column":28},"action":"insert","lines":["''"],"id":1071}],[{"start":{"row":439,"column":27},"end":{"row":439,"column":28},"action":"insert","lines":["*"],"id":1072},{"start":{"row":439,"column":28},"end":{"row":439,"column":29},"action":"insert","lines":["*"]},{"start":{"row":439,"column":29},"end":{"row":439,"column":30},"action":"insert","lines":["*"]},{"start":{"row":439,"column":30},"end":{"row":439,"column":31},"action":"insert","lines":["*"]},{"start":{"row":439,"column":31},"end":{"row":439,"column":32},"action":"insert","lines":["*"]},{"start":{"row":439,"column":32},"end":{"row":439,"column":33},"action":"insert","lines":["*"]}],[{"start":{"row":409,"column":54},"end":{"row":410,"column":0},"action":"insert","lines":["",""],"id":1073},{"start":{"row":410,"column":0},"end":{"row":410,"column":20},"action":"insert","lines":["                    "]},{"start":{"row":410,"column":20},"end":{"row":410,"column":21},"action":"insert","lines":["c"]},{"start":{"row":410,"column":21},"end":{"row":410,"column":22},"action":"insert","lines":["o"]},{"start":{"row":410,"column":22},"end":{"row":410,"column":23},"action":"insert","lines":["n"]},{"start":{"row":410,"column":23},"end":{"row":410,"column":24},"action":"insert","lines":["s"]}],[{"start":{"row":410,"column":24},"end":{"row":410,"column":25},"action":"insert","lines":["o"],"id":1074},{"start":{"row":410,"column":25},"end":{"row":410,"column":26},"action":"insert","lines":["l"]},{"start":{"row":410,"column":26},"end":{"row":410,"column":27},"action":"insert","lines":["e"]},{"start":{"row":410,"column":27},"end":{"row":410,"column":28},"action":"insert","lines":["."]},{"start":{"row":410,"column":28},"end":{"row":410,"column":29},"action":"insert","lines":["l"]},{"start":{"row":410,"column":29},"end":{"row":410,"column":30},"action":"insert","lines":["o"]}],[{"start":{"row":410,"column":30},"end":{"row":410,"column":31},"action":"insert","lines":["g"],"id":1075}],[{"start":{"row":410,"column":31},"end":{"row":410,"column":33},"action":"insert","lines":["()"],"id":1076}],[{"start":{"row":410,"column":32},"end":{"row":410,"column":50},"action":"insert","lines":["value.attribute_id"],"id":1077}],[{"start":{"row":410,"column":50},"end":{"row":410,"column":51},"action":"insert","lines":[" "],"id":1078},{"start":{"row":410,"column":51},"end":{"row":410,"column":52},"action":"insert","lines":["+"]}],[{"start":{"row":410,"column":52},"end":{"row":410,"column":53},"action":"insert","lines":[" "],"id":1079}],[{"start":{"row":410,"column":53},"end":{"row":410,"column":55},"action":"insert","lines":["''"],"id":1080}],[{"start":{"row":410,"column":54},"end":{"row":410,"column":55},"action":"insert","lines":["*"],"id":1081},{"start":{"row":410,"column":55},"end":{"row":410,"column":56},"action":"insert","lines":["*"]},{"start":{"row":410,"column":56},"end":{"row":410,"column":57},"action":"insert","lines":["*"]},{"start":{"row":410,"column":57},"end":{"row":410,"column":58},"action":"insert","lines":["*"]},{"start":{"row":410,"column":58},"end":{"row":410,"column":59},"action":"insert","lines":["*"]},{"start":{"row":410,"column":59},"end":{"row":410,"column":60},"action":"insert","lines":["*"]}],[{"start":{"row":438,"column":29},"end":{"row":439,"column":0},"action":"insert","lines":["",""],"id":1082},{"start":{"row":439,"column":0},"end":{"row":439,"column":4},"action":"insert","lines":["    "]},{"start":{"row":439,"column":4},"end":{"row":439,"column":5},"action":"insert","lines":["v"]},{"start":{"row":439,"column":5},"end":{"row":439,"column":6},"action":"insert","lines":["a"]},{"start":{"row":439,"column":6},"end":{"row":439,"column":7},"action":"insert","lines":["r"]}],[{"start":{"row":439,"column":7},"end":{"row":439,"column":8},"action":"insert","lines":[" "],"id":1083},{"start":{"row":439,"column":8},"end":{"row":439,"column":9},"action":"insert","lines":["r"]},{"start":{"row":439,"column":9},"end":{"row":439,"column":10},"action":"insert","lines":["e"]},{"start":{"row":439,"column":10},"end":{"row":439,"column":11},"action":"insert","lines":["s"]},{"start":{"row":439,"column":11},"end":{"row":439,"column":12},"action":"insert","lines":["p"]}],[{"start":{"row":439,"column":12},"end":{"row":439,"column":13},"action":"insert","lines":[" "],"id":1084},{"start":{"row":439,"column":13},"end":{"row":439,"column":14},"action":"insert","lines":["="]}],[{"start":{"row":439,"column":14},"end":{"row":439,"column":15},"action":"insert","lines":[" "],"id":1085},{"start":{"row":439,"column":15},"end":{"row":439,"column":16},"action":"insert","lines":["f"]},{"start":{"row":439,"column":16},"end":{"row":439,"column":17},"action":"insert","lines":["a"]},{"start":{"row":439,"column":17},"end":{"row":439,"column":18},"action":"insert","lines":["l"]},{"start":{"row":439,"column":18},"end":{"row":439,"column":19},"action":"insert","lines":["s"]},{"start":{"row":439,"column":19},"end":{"row":439,"column":20},"action":"insert","lines":["e"]}],[{"start":{"row":439,"column":20},"end":{"row":439,"column":21},"action":"insert","lines":[";"],"id":1086}],[{"start":{"row":442,"column":23},"end":{"row":442,"column":29},"action":"remove","lines":["return"],"id":1087},{"start":{"row":442,"column":23},"end":{"row":442,"column":24},"action":"insert","lines":["r"]},{"start":{"row":442,"column":24},"end":{"row":442,"column":25},"action":"insert","lines":["e"]},{"start":{"row":442,"column":25},"end":{"row":442,"column":26},"action":"insert","lines":["s"]},{"start":{"row":442,"column":26},"end":{"row":442,"column":27},"action":"insert","lines":["p"]}],[{"start":{"row":442,"column":27},"end":{"row":442,"column":28},"action":"insert","lines":[" "],"id":1088},{"start":{"row":442,"column":28},"end":{"row":442,"column":29},"action":"insert","lines":["="]}],[{"start":{"row":444,"column":11},"end":{"row":444,"column":16},"action":"remove","lines":["false"],"id":1089},{"start":{"row":444,"column":11},"end":{"row":444,"column":12},"action":"insert","lines":["r"]},{"start":{"row":444,"column":12},"end":{"row":444,"column":13},"action":"insert","lines":["e"]},{"start":{"row":444,"column":13},"end":{"row":444,"column":14},"action":"insert","lines":["s"]},{"start":{"row":444,"column":14},"end":{"row":444,"column":15},"action":"insert","lines":["p"]}],[{"start":{"row":441,"column":8},"end":{"row":441,"column":35},"action":"remove","lines":["console.log(val + '******')"],"id":1090}],[{"start":{"row":442,"column":35},"end":{"row":442,"column":62},"action":"insert","lines":["console.log(val + '******')"],"id":1091}],[{"start":{"row":442,"column":62},"end":{"row":442,"column":63},"action":"insert","lines":[";"],"id":1092}],[{"start":{"row":440,"column":36},"end":{"row":441,"column":8},"action":"remove","lines":["","        "],"id":1093}],[{"start":{"row":441,"column":22},"end":{"row":441,"column":23},"action":"insert","lines":["{"],"id":1094}],[{"start":{"row":441,"column":64},"end":{"row":441,"column":65},"action":"insert","lines":["}"],"id":1095}],[{"start":{"row":410,"column":59},"end":{"row":410,"column":60},"action":"remove","lines":["*"],"id":1096},{"start":{"row":410,"column":58},"end":{"row":410,"column":59},"action":"remove","lines":["*"]},{"start":{"row":410,"column":57},"end":{"row":410,"column":58},"action":"remove","lines":["*"]},{"start":{"row":410,"column":56},"end":{"row":410,"column":57},"action":"remove","lines":["*"]},{"start":{"row":410,"column":55},"end":{"row":410,"column":56},"action":"remove","lines":["*"]},{"start":{"row":410,"column":54},"end":{"row":410,"column":55},"action":"remove","lines":["*"]}],[{"start":{"row":410,"column":54},"end":{"row":410,"column":55},"action":"insert","lines":["$"],"id":1097},{"start":{"row":410,"column":55},"end":{"row":410,"column":56},"action":"insert","lines":["$"]},{"start":{"row":410,"column":56},"end":{"row":410,"column":57},"action":"insert","lines":["$"]},{"start":{"row":410,"column":57},"end":{"row":410,"column":58},"action":"insert","lines":["$"]},{"start":{"row":410,"column":58},"end":{"row":410,"column":59},"action":"insert","lines":["$"]},{"start":{"row":410,"column":59},"end":{"row":410,"column":60},"action":"insert","lines":["$"]},{"start":{"row":410,"column":60},"end":{"row":410,"column":61},"action":"insert","lines":["$"]}],[{"start":{"row":441,"column":9},"end":{"row":441,"column":12},"action":"remove","lines":["val"],"id":1098},{"start":{"row":441,"column":9},"end":{"row":441,"column":10},"action":"insert","lines":["i"]}],[{"start":{"row":441,"column":46},"end":{"row":441,"column":49},"action":"remove","lines":["val"],"id":1099},{"start":{"row":441,"column":46},"end":{"row":441,"column":47},"action":"insert","lines":["i"]}],[{"start":{"row":411,"column":37},"end":{"row":411,"column":49},"action":"remove","lines":["attribute_id"],"id":1108},{"start":{"row":411,"column":37},"end":{"row":411,"column":56},"action":"insert","lines":["attribute_option_id"]}],[{"start":{"row":411,"column":23},"end":{"row":411,"column":30},"action":"remove","lines":["isInMap"],"id":1109}],[{"start":{"row":411,"column":23},"end":{"row":411,"column":24},"action":"insert","lines":["$"],"id":1110},{"start":{"row":411,"column":24},"end":{"row":411,"column":25},"action":"insert","lines":["."]},{"start":{"row":411,"column":25},"end":{"row":411,"column":26},"action":"insert","lines":["i"]},{"start":{"row":411,"column":26},"end":{"row":411,"column":27},"action":"insert","lines":["n"]}],[{"start":{"row":411,"column":27},"end":{"row":411,"column":28},"action":"insert","lines":["A"],"id":1111},{"start":{"row":411,"column":28},"end":{"row":411,"column":29},"action":"insert","lines":["r"]},{"start":{"row":411,"column":29},"end":{"row":411,"column":30},"action":"insert","lines":["r"]},{"start":{"row":411,"column":30},"end":{"row":411,"column":31},"action":"insert","lines":["a"]},{"start":{"row":411,"column":31},"end":{"row":411,"column":32},"action":"insert","lines":["y"]}],[{"start":{"row":410,"column":38},"end":{"row":410,"column":50},"action":"remove","lines":["attribute_id"],"id":1112},{"start":{"row":410,"column":38},"end":{"row":410,"column":57},"action":"insert","lines":["attribute_option_id"]}],[{"start":{"row":410,"column":20},"end":{"row":410,"column":21},"action":"insert","lines":["/"],"id":1113},{"start":{"row":410,"column":21},"end":{"row":410,"column":22},"action":"insert","lines":["/"]}],[{"start":{"row":411,"column":23},"end":{"row":411,"column":32},"action":"remove","lines":["$.inArray"],"id":1114}],[{"start":{"row":411,"column":23},"end":{"row":411,"column":30},"action":"insert","lines":["isInMap"],"id":1115}],[{"start":{"row":409,"column":54},"end":{"row":410,"column":72},"action":"remove","lines":["","                    //console.log(value.attribute_option_id + '$$$$$$$')"],"id":1122}],[{"start":{"row":410,"column":72},"end":{"row":411,"column":0},"action":"insert","lines":["",""],"id":1123},{"start":{"row":411,"column":0},"end":{"row":411,"column":20},"action":"insert","lines":["                    "]}],[{"start":{"row":411,"column":20},"end":{"row":411,"column":21},"action":"insert","lines":["{"],"id":1124}],[{"start":{"row":413,"column":20},"end":{"row":414,"column":0},"action":"insert","lines":["",""],"id":1125},{"start":{"row":414,"column":0},"end":{"row":414,"column":20},"action":"insert","lines":["                    "]}],[{"start":{"row":413,"column":20},"end":{"row":413,"column":21},"action":"insert","lines":["}"],"id":1126}],[{"start":{"row":413,"column":20},"end":{"row":415,"column":20},"action":"insert","lines":["","                        ","                    "],"id":1127}],[{"start":{"row":414,"column":20},"end":{"row":414,"column":24},"action":"remove","lines":["    "],"id":1128},{"start":{"row":414,"column":16},"end":{"row":414,"column":20},"action":"remove","lines":["    "]},{"start":{"row":414,"column":12},"end":{"row":414,"column":16},"action":"remove","lines":["    "]},{"start":{"row":414,"column":8},"end":{"row":414,"column":12},"action":"remove","lines":["    "]},{"start":{"row":414,"column":4},"end":{"row":414,"column":8},"action":"remove","lines":["    "]},{"start":{"row":414,"column":0},"end":{"row":414,"column":4},"action":"remove","lines":["    "]}],[{"start":{"row":413,"column":20},"end":{"row":414,"column":0},"action":"remove","lines":["",""],"id":1129}],[{"start":{"row":413,"column":20},"end":{"row":413,"column":24},"action":"insert","lines":["    "],"id":1130}],[{"start":{"row":412,"column":188},"end":{"row":413,"column":24},"action":"remove","lines":["","                        "],"id":1131}],[{"start":{"row":412,"column":24},"end":{"row":413,"column":0},"action":"insert","lines":["",""],"id":1132},{"start":{"row":413,"column":0},"end":{"row":413,"column":24},"action":"insert","lines":["                        "]}],[{"start":{"row":412,"column":24},"end":{"row":412,"column":72},"action":"insert","lines":["$('[data-attribute=\"'+ value.attribute_id +'\"]')"],"id":1133}],[{"start":{"row":412,"column":70},"end":{"row":412,"column":71},"action":"insert","lines":[" "],"id":1134},{"start":{"row":412,"column":71},"end":{"row":412,"column":72},"action":"insert","lines":["o"]},{"start":{"row":412,"column":72},"end":{"row":412,"column":73},"action":"insert","lines":["p"]},{"start":{"row":412,"column":73},"end":{"row":412,"column":74},"action":"insert","lines":["t"]},{"start":{"row":412,"column":74},"end":{"row":412,"column":75},"action":"insert","lines":["i"]}],[{"start":{"row":412,"column":75},"end":{"row":412,"column":76},"action":"insert","lines":["o"],"id":1135},{"start":{"row":412,"column":76},"end":{"row":412,"column":77},"action":"insert","lines":["n"]}],[{"start":{"row":412,"column":79},"end":{"row":412,"column":80},"action":"insert","lines":["."],"id":1136},{"start":{"row":412,"column":80},"end":{"row":412,"column":81},"action":"insert","lines":["r"]},{"start":{"row":412,"column":81},"end":{"row":412,"column":82},"action":"insert","lines":["e"]}],[{"start":{"row":412,"column":80},"end":{"row":412,"column":82},"action":"remove","lines":["re"],"id":1137},{"start":{"row":412,"column":80},"end":{"row":412,"column":92},"action":"insert","lines":["removeAttr()"]}],[{"start":{"row":412,"column":91},"end":{"row":412,"column":93},"action":"insert","lines":["''"],"id":1138}],[{"start":{"row":412,"column":92},"end":{"row":412,"column":93},"action":"insert","lines":["s"],"id":1139},{"start":{"row":412,"column":93},"end":{"row":412,"column":94},"action":"insert","lines":["e"]},{"start":{"row":412,"column":94},"end":{"row":412,"column":95},"action":"insert","lines":["l"]},{"start":{"row":412,"column":95},"end":{"row":412,"column":96},"action":"insert","lines":["e"]},{"start":{"row":412,"column":96},"end":{"row":412,"column":97},"action":"insert","lines":["c"]},{"start":{"row":412,"column":97},"end":{"row":412,"column":98},"action":"insert","lines":["t"]},{"start":{"row":412,"column":98},"end":{"row":412,"column":99},"action":"insert","lines":["e"]}],[{"start":{"row":412,"column":99},"end":{"row":412,"column":100},"action":"insert","lines":["d"],"id":1140}],[{"start":{"row":412,"column":102},"end":{"row":412,"column":103},"action":"insert","lines":[";"],"id":1141}],[{"start":{"row":412,"column":71},"end":{"row":412,"column":77},"action":"remove","lines":["option"],"id":1143},{"start":{"row":412,"column":70},"end":{"row":412,"column":71},"action":"remove","lines":[" "]}],[{"start":{"row":412,"column":72},"end":{"row":412,"column":73},"action":"insert","lines":["."],"id":1144},{"start":{"row":412,"column":73},"end":{"row":412,"column":74},"action":"insert","lines":["f"]},{"start":{"row":412,"column":74},"end":{"row":412,"column":75},"action":"insert","lines":["i"]},{"start":{"row":412,"column":75},"end":{"row":412,"column":76},"action":"insert","lines":["n"]}],[{"start":{"row":412,"column":76},"end":{"row":412,"column":77},"action":"insert","lines":["d"],"id":1145}],[{"start":{"row":412,"column":77},"end":{"row":412,"column":79},"action":"insert","lines":["()"],"id":1146}],[{"start":{"row":412,"column":78},"end":{"row":412,"column":80},"action":"insert","lines":["''"],"id":1147}],[{"start":{"row":412,"column":79},"end":{"row":412,"column":80},"action":"insert","lines":["o"],"id":1148},{"start":{"row":412,"column":80},"end":{"row":412,"column":81},"action":"insert","lines":["p"]},{"start":{"row":412,"column":81},"end":{"row":412,"column":82},"action":"insert","lines":["t"]},{"start":{"row":412,"column":82},"end":{"row":412,"column":83},"action":"insert","lines":["i"]},{"start":{"row":412,"column":83},"end":{"row":412,"column":84},"action":"insert","lines":["o"]},{"start":{"row":412,"column":84},"end":{"row":412,"column":85},"action":"insert","lines":["n"]}],[{"start":{"row":412,"column":24},"end":{"row":412,"column":111},"action":"remove","lines":["$('[data-attribute=\"'+ value.attribute_id +'\"]').find('option').removeAttr('selected');"],"id":1149}],[{"start":{"row":409,"column":54},"end":{"row":410,"column":0},"action":"insert","lines":["",""],"id":1150},{"start":{"row":410,"column":0},"end":{"row":410,"column":20},"action":"insert","lines":["                    "]}],[{"start":{"row":413,"column":20},"end":{"row":413,"column":24},"action":"remove","lines":["    "],"id":1151},{"start":{"row":413,"column":16},"end":{"row":413,"column":20},"action":"remove","lines":["    "]},{"start":{"row":413,"column":12},"end":{"row":413,"column":16},"action":"remove","lines":["    "]},{"start":{"row":413,"column":8},"end":{"row":413,"column":12},"action":"remove","lines":["    "]},{"start":{"row":413,"column":4},"end":{"row":413,"column":8},"action":"remove","lines":["    "]},{"start":{"row":413,"column":0},"end":{"row":413,"column":4},"action":"remove","lines":["    "]},{"start":{"row":412,"column":21},"end":{"row":413,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":411,"column":72},"end":{"row":412,"column":21},"action":"remove","lines":["","                    {"],"id":1152}],[{"start":{"row":413,"column":20},"end":{"row":413,"column":21},"action":"remove","lines":["}"],"id":1153}],[{"start":{"row":386,"column":7},"end":{"row":387,"column":0},"action":"insert","lines":["",""],"id":1154},{"start":{"row":387,"column":0},"end":{"row":387,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":412,"column":72},"end":{"row":412,"column":73},"action":"insert","lines":["{"],"id":1155}],[{"start":{"row":412,"column":73},"end":{"row":414,"column":21},"action":"insert","lines":["","                        ","                    }"],"id":1156}],[{"start":{"row":413,"column":24},"end":{"row":414,"column":0},"action":"remove","lines":["",""],"id":1157}],[{"start":{"row":412,"column":73},"end":{"row":413,"column":45},"action":"remove","lines":["","                                            }"],"id":1158}],[{"start":{"row":414,"column":20},"end":{"row":414,"column":21},"action":"insert","lines":["}"],"id":1159}],[{"start":{"row":414,"column":20},"end":{"row":416,"column":20},"action":"insert","lines":["","                        ","                    "],"id":1160}],[{"start":{"row":414,"column":20},"end":{"row":415,"column":24},"action":"remove","lines":["","                        "],"id":1161}],[{"start":{"row":414,"column":20},"end":{"row":414,"column":24},"action":"insert","lines":["    "],"id":1162}],[{"start":{"row":412,"column":73},"end":{"row":413,"column":0},"action":"insert","lines":["",""],"id":1163},{"start":{"row":413,"column":0},"end":{"row":413,"column":24},"action":"insert","lines":["                        "]}],[{"start":{"row":415,"column":1},"end":{"row":415,"column":2},"action":"remove","lines":[" "],"id":1164},{"start":{"row":415,"column":0},"end":{"row":415,"column":1},"action":"remove","lines":[" "]},{"start":{"row":414,"column":188},"end":{"row":415,"column":22},"action":"remove","lines":["","                      "]}]]},"ace":{"folds":[],"scrolltop":5372,"scrollleft":32,"selection":{"start":{"row":414,"column":141},"end":{"row":414,"column":149},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":382,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1530607723341}