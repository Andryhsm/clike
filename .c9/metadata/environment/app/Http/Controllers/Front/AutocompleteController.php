{"filter":false,"title":"AutocompleteController.php","tooltip":"/app/Http/Controllers/Front/AutocompleteController.php","ace":{"folds":[],"scrolltop":343.5,"scrollleft":0,"selection":{"start":{"row":23,"column":5},"end":{"row":23,"column":5},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":292,"mode":"ace/mode/php"}},"hash":"8d42a1b650886f9f2d940618722d7c42919ef3f3","undoManager":{"mark":54,"position":54,"stack":[[{"start":{"row":98,"column":5},"end":{"row":99,"column":0},"action":"insert","lines":["",""],"id":2},{"start":{"row":99,"column":0},"end":{"row":99,"column":4},"action":"insert","lines":["    "]},{"start":{"row":99,"column":4},"end":{"row":100,"column":0},"action":"insert","lines":["",""]},{"start":{"row":100,"column":0},"end":{"row":100,"column":4},"action":"insert","lines":["    "]},{"start":{"row":100,"column":4},"end":{"row":100,"column":5},"action":"insert","lines":["p"]},{"start":{"row":100,"column":5},"end":{"row":100,"column":6},"action":"insert","lines":["u"]},{"start":{"row":100,"column":6},"end":{"row":100,"column":7},"action":"insert","lines":["b"]},{"start":{"row":100,"column":7},"end":{"row":100,"column":8},"action":"insert","lines":["l"]},{"start":{"row":100,"column":8},"end":{"row":100,"column":9},"action":"insert","lines":["i"]},{"start":{"row":100,"column":9},"end":{"row":100,"column":10},"action":"insert","lines":["c"]}],[{"start":{"row":100,"column":10},"end":{"row":100,"column":11},"action":"insert","lines":[" "],"id":3},{"start":{"row":100,"column":11},"end":{"row":100,"column":12},"action":"insert","lines":["f"]},{"start":{"row":100,"column":12},"end":{"row":100,"column":13},"action":"insert","lines":["u"]},{"start":{"row":100,"column":13},"end":{"row":100,"column":14},"action":"insert","lines":["n"]},{"start":{"row":100,"column":14},"end":{"row":100,"column":15},"action":"insert","lines":["c"]},{"start":{"row":100,"column":15},"end":{"row":100,"column":16},"action":"insert","lines":["t"]},{"start":{"row":100,"column":16},"end":{"row":100,"column":17},"action":"insert","lines":["i"]},{"start":{"row":100,"column":17},"end":{"row":100,"column":18},"action":"insert","lines":["o"]},{"start":{"row":100,"column":18},"end":{"row":100,"column":19},"action":"insert","lines":["n"]}],[{"start":{"row":100,"column":19},"end":{"row":100,"column":20},"action":"insert","lines":[" "],"id":4},{"start":{"row":100,"column":20},"end":{"row":100,"column":21},"action":"insert","lines":["g"]},{"start":{"row":100,"column":21},"end":{"row":100,"column":22},"action":"insert","lines":["e"]},{"start":{"row":100,"column":22},"end":{"row":100,"column":23},"action":"insert","lines":["t"]},{"start":{"row":100,"column":23},"end":{"row":100,"column":24},"action":"insert","lines":["A"]},{"start":{"row":100,"column":24},"end":{"row":100,"column":25},"action":"insert","lines":["l"]},{"start":{"row":100,"column":25},"end":{"row":100,"column":26},"action":"insert","lines":["l"]},{"start":{"row":100,"column":26},"end":{"row":100,"column":27},"action":"insert","lines":["P"]}],[{"start":{"row":100,"column":27},"end":{"row":100,"column":28},"action":"insert","lines":["r"],"id":5},{"start":{"row":100,"column":28},"end":{"row":100,"column":29},"action":"insert","lines":["o"]},{"start":{"row":100,"column":29},"end":{"row":100,"column":30},"action":"insert","lines":["d"]},{"start":{"row":100,"column":30},"end":{"row":100,"column":31},"action":"insert","lines":["u"]},{"start":{"row":100,"column":31},"end":{"row":100,"column":32},"action":"insert","lines":["c"]},{"start":{"row":100,"column":32},"end":{"row":100,"column":33},"action":"insert","lines":["t"]},{"start":{"row":100,"column":33},"end":{"row":100,"column":34},"action":"insert","lines":["I"]},{"start":{"row":100,"column":34},"end":{"row":100,"column":35},"action":"insert","lines":["n"]}],[{"start":{"row":100,"column":35},"end":{"row":100,"column":36},"action":"insert","lines":["A"],"id":6},{"start":{"row":100,"column":36},"end":{"row":100,"column":37},"action":"insert","lines":["r"]},{"start":{"row":100,"column":37},"end":{"row":100,"column":38},"action":"insert","lines":["e"]},{"start":{"row":100,"column":38},"end":{"row":100,"column":39},"action":"insert","lines":["a"]}],[{"start":{"row":100,"column":39},"end":{"row":100,"column":41},"action":"insert","lines":["()"],"id":7}],[{"start":{"row":100,"column":40},"end":{"row":100,"column":41},"action":"insert","lines":["£"],"id":8},{"start":{"row":100,"column":41},"end":{"row":100,"column":42},"action":"insert","lines":["r"]},{"start":{"row":100,"column":42},"end":{"row":100,"column":43},"action":"insert","lines":["e"]}],[{"start":{"row":100,"column":42},"end":{"row":100,"column":43},"action":"remove","lines":["e"],"id":9},{"start":{"row":100,"column":41},"end":{"row":100,"column":42},"action":"remove","lines":["r"]},{"start":{"row":100,"column":40},"end":{"row":100,"column":41},"action":"remove","lines":["£"]}],[{"start":{"row":100,"column":40},"end":{"row":100,"column":41},"action":"insert","lines":["£"],"id":10}],[{"start":{"row":100,"column":40},"end":{"row":100,"column":41},"action":"remove","lines":["£"],"id":11}],[{"start":{"row":100,"column":40},"end":{"row":100,"column":41},"action":"insert","lines":["&"],"id":12},{"start":{"row":100,"column":41},"end":{"row":100,"column":42},"action":"insert","lines":["R"]}],[{"start":{"row":100,"column":41},"end":{"row":100,"column":42},"action":"remove","lines":["R"],"id":13},{"start":{"row":100,"column":40},"end":{"row":100,"column":41},"action":"remove","lines":["&"]}],[{"start":{"row":100,"column":40},"end":{"row":100,"column":41},"action":"insert","lines":["$"],"id":14},{"start":{"row":100,"column":41},"end":{"row":100,"column":42},"action":"insert","lines":["R"]},{"start":{"row":100,"column":42},"end":{"row":100,"column":43},"action":"insert","lines":["e"]},{"start":{"row":100,"column":43},"end":{"row":100,"column":44},"action":"insert","lines":["q"]},{"start":{"row":100,"column":44},"end":{"row":100,"column":45},"action":"insert","lines":["u"]},{"start":{"row":100,"column":45},"end":{"row":100,"column":46},"action":"insert","lines":["e"]},{"start":{"row":100,"column":46},"end":{"row":100,"column":47},"action":"insert","lines":["s"]},{"start":{"row":100,"column":47},"end":{"row":100,"column":48},"action":"insert","lines":["t"]}],[{"start":{"row":100,"column":48},"end":{"row":100,"column":49},"action":"insert","lines":[" "],"id":15},{"start":{"row":100,"column":49},"end":{"row":100,"column":50},"action":"insert","lines":["$"]},{"start":{"row":100,"column":50},"end":{"row":100,"column":51},"action":"insert","lines":["r"]},{"start":{"row":100,"column":51},"end":{"row":100,"column":52},"action":"insert","lines":["e"]}],[{"start":{"row":100,"column":51},"end":{"row":100,"column":52},"action":"remove","lines":["e"],"id":16},{"start":{"row":100,"column":50},"end":{"row":100,"column":51},"action":"remove","lines":["r"]},{"start":{"row":100,"column":49},"end":{"row":100,"column":50},"action":"remove","lines":["$"]},{"start":{"row":100,"column":48},"end":{"row":100,"column":49},"action":"remove","lines":[" "]},{"start":{"row":100,"column":47},"end":{"row":100,"column":48},"action":"remove","lines":["t"]},{"start":{"row":100,"column":46},"end":{"row":100,"column":47},"action":"remove","lines":["s"]},{"start":{"row":100,"column":45},"end":{"row":100,"column":46},"action":"remove","lines":["e"]},{"start":{"row":100,"column":44},"end":{"row":100,"column":45},"action":"remove","lines":["u"]},{"start":{"row":100,"column":43},"end":{"row":100,"column":44},"action":"remove","lines":["q"]},{"start":{"row":100,"column":42},"end":{"row":100,"column":43},"action":"remove","lines":["e"]},{"start":{"row":100,"column":41},"end":{"row":100,"column":42},"action":"remove","lines":["R"]},{"start":{"row":100,"column":40},"end":{"row":100,"column":41},"action":"remove","lines":["$"]}],[{"start":{"row":100,"column":40},"end":{"row":100,"column":41},"action":"insert","lines":["R"],"id":17},{"start":{"row":100,"column":41},"end":{"row":100,"column":42},"action":"insert","lines":["e"]},{"start":{"row":100,"column":42},"end":{"row":100,"column":43},"action":"insert","lines":["q"]},{"start":{"row":100,"column":43},"end":{"row":100,"column":44},"action":"insert","lines":["u"]},{"start":{"row":100,"column":44},"end":{"row":100,"column":45},"action":"insert","lines":["e"]},{"start":{"row":100,"column":45},"end":{"row":100,"column":46},"action":"insert","lines":["s"]},{"start":{"row":100,"column":46},"end":{"row":100,"column":47},"action":"insert","lines":["t"]}],[{"start":{"row":100,"column":47},"end":{"row":100,"column":48},"action":"insert","lines":[" "],"id":18},{"start":{"row":100,"column":48},"end":{"row":100,"column":49},"action":"insert","lines":["$"]},{"start":{"row":100,"column":49},"end":{"row":100,"column":50},"action":"insert","lines":["r"]},{"start":{"row":100,"column":50},"end":{"row":100,"column":51},"action":"insert","lines":["e"]},{"start":{"row":100,"column":51},"end":{"row":100,"column":52},"action":"insert","lines":["q"]},{"start":{"row":100,"column":52},"end":{"row":100,"column":53},"action":"insert","lines":["u"]},{"start":{"row":100,"column":53},"end":{"row":100,"column":54},"action":"insert","lines":["e"]},{"start":{"row":100,"column":54},"end":{"row":100,"column":55},"action":"insert","lines":["s"]},{"start":{"row":100,"column":55},"end":{"row":100,"column":56},"action":"insert","lines":["t"]}],[{"start":{"row":100,"column":57},"end":{"row":101,"column":0},"action":"insert","lines":["",""],"id":19},{"start":{"row":101,"column":0},"end":{"row":101,"column":4},"action":"insert","lines":["    "]},{"start":{"row":101,"column":4},"end":{"row":101,"column":5},"action":"insert","lines":["{"]}],[{"start":{"row":101,"column":5},"end":{"row":103,"column":5},"action":"insert","lines":["","        ","    }"],"id":20}],[{"start":{"row":102,"column":8},"end":{"row":149,"column":5},"action":"insert","lines":[" $language_id=app('language')->language_id;","        $product_ids = [];","        $products = [];","        $all_products = [];","        $category_id = Input::get('category');                      ","        $store_ids = [];","        $prices = [];","        $prices_array = [];","        ","        ","        if(Cookie::has('zip-code') && Cookie::has('radius')){","            $zip_code = Cookie::get('zip-code');","            $zip_code = str_replace(' ', '+', $zip_code);","            $zip_code = str_replace('%', '+', $zip_code);","            $requested_distance = intval(Cookie::get('radius'));","            $responses = [];","            $stores = $this->store_repository->getAll();","            foreach ($stores as $store) {","                 try{","                    $distance = getDistanceStore($store->latitude, $store->longitude, $zip_code, $store->country->name);","                    ","                    if($distance < $requested_distance){","                        $store_ids[] = $store->store_id;","                    }","                }catch (\\Exception $e){","                    ","                }","                ","            }","            /*$brands_param = [];","            If(Input::has('brand'))","                $brands_param = explode(',', Input::get('brand'));","            else","                $brands_param = $brand_ids;*/","            //dd($brand_ids);","            if(!empty($store_ids)){","                $products = $this->product_repository->getByCategory(Input::all(), $store_ids);","                $all_products = $this->product_repository->getProductByCategory(Input::all(), $store_ids);","            }else{","                $brand_ids[] = 0;","                $products = $this->product_repository->getByCategory(Input::all(), $brand_ids);","                $all_products = $this->product_repository->getProductByCategory(Input::all(), $brand_ids);","            }","        }else{","            $products = $this->product_repository->getByCategory(Input::all(), []);","            $all_products = $this->product_repository->getProductByCategory(Input::all(), []);","        }","     "],"id":21}],[{"start":{"row":130,"column":13},"end":{"row":136,"column":29},"action":"remove","lines":["","            /*$brands_param = [];","            If(Input::has('brand'))","                $brands_param = explode(',', Input::get('brand'));","            else","                $brands_param = $brand_ids;*/","            //dd($brand_ids);"],"id":22}],[{"start":{"row":102,"column":8},"end":{"row":102,"column":9},"action":"remove","lines":[" "],"id":23}],[{"start":{"row":136,"column":83},"end":{"row":136,"column":93},"action":"remove","lines":["$brand_ids"],"id":24},{"start":{"row":136,"column":83},"end":{"row":136,"column":93},"action":"insert","lines":["$store_ids"]}],[{"start":{"row":137,"column":94},"end":{"row":137,"column":104},"action":"remove","lines":["$brand_ids"],"id":25},{"start":{"row":137,"column":94},"end":{"row":137,"column":104},"action":"insert","lines":["$store_ids"]}],[{"start":{"row":107,"column":24},"end":{"row":109,"column":27},"action":"remove","lines":["","        $prices = [];","        $prices_array = [];"],"id":26}],[{"start":{"row":105,"column":27},"end":{"row":106,"column":46},"action":"remove","lines":["","        $category_id = Input::get('category');"],"id":28}],[{"start":{"row":102,"column":50},"end":{"row":103,"column":26},"action":"remove","lines":["","        $product_ids = [];"],"id":29}],[{"start":{"row":135,"column":14},"end":{"row":136,"column":83},"action":"remove","lines":["","            $products = $this->product_repository->getByCategory(Input::all(), []);"],"id":30}],[{"start":{"row":130,"column":18},"end":{"row":132,"column":95},"action":"remove","lines":["","                $brand_ids[] = 0;","                $products = $this->product_repository->getByCategory(Input::all(), $store_ids);"],"id":31}],[{"start":{"row":127,"column":35},"end":{"row":128,"column":95},"action":"remove","lines":["","                $products = $this->product_repository->getByCategory(Input::all(), $store_ids);"],"id":32}],[{"start":{"row":102,"column":50},"end":{"row":103,"column":23},"action":"remove","lines":["","        $products = [];"],"id":33}],[{"start":{"row":134,"column":5},"end":{"row":134,"column":8},"action":"insert","lines":["   "],"id":34}],[{"start":{"row":134,"column":8},"end":{"row":135,"column":0},"action":"insert","lines":["",""],"id":35},{"start":{"row":135,"column":0},"end":{"row":135,"column":8},"action":"insert","lines":["        "]},{"start":{"row":135,"column":8},"end":{"row":135,"column":9},"action":"insert","lines":["r"]},{"start":{"row":135,"column":9},"end":{"row":135,"column":10},"action":"insert","lines":["e"]},{"start":{"row":135,"column":10},"end":{"row":135,"column":11},"action":"insert","lines":["t"]},{"start":{"row":135,"column":11},"end":{"row":135,"column":12},"action":"insert","lines":["u"]},{"start":{"row":135,"column":12},"end":{"row":135,"column":13},"action":"insert","lines":["r"]},{"start":{"row":135,"column":13},"end":{"row":135,"column":14},"action":"insert","lines":["n"]}],[{"start":{"row":135,"column":14},"end":{"row":135,"column":15},"action":"insert","lines":[" "],"id":36}],[{"start":{"row":135,"column":15},"end":{"row":135,"column":16},"action":"insert","lines":["r"],"id":37},{"start":{"row":135,"column":16},"end":{"row":135,"column":17},"action":"insert","lines":["e"]},{"start":{"row":135,"column":17},"end":{"row":135,"column":18},"action":"insert","lines":["s"]},{"start":{"row":135,"column":18},"end":{"row":135,"column":19},"action":"insert","lines":["p"]},{"start":{"row":135,"column":19},"end":{"row":135,"column":20},"action":"insert","lines":["o"]},{"start":{"row":135,"column":20},"end":{"row":135,"column":21},"action":"insert","lines":["s"]},{"start":{"row":135,"column":21},"end":{"row":135,"column":22},"action":"insert","lines":["n"]},{"start":{"row":135,"column":22},"end":{"row":135,"column":23},"action":"insert","lines":["e"]}],[{"start":{"row":135,"column":23},"end":{"row":135,"column":25},"action":"insert","lines":["()"],"id":38}],[{"start":{"row":135,"column":23},"end":{"row":135,"column":25},"action":"remove","lines":["()"],"id":39},{"start":{"row":135,"column":22},"end":{"row":135,"column":23},"action":"remove","lines":["e"]},{"start":{"row":135,"column":21},"end":{"row":135,"column":22},"action":"remove","lines":["n"]},{"start":{"row":135,"column":20},"end":{"row":135,"column":21},"action":"remove","lines":["s"]}],[{"start":{"row":135,"column":20},"end":{"row":135,"column":21},"action":"insert","lines":["n"],"id":40},{"start":{"row":135,"column":21},"end":{"row":135,"column":22},"action":"insert","lines":["s"]},{"start":{"row":135,"column":22},"end":{"row":135,"column":23},"action":"insert","lines":["e"]}],[{"start":{"row":135,"column":23},"end":{"row":135,"column":25},"action":"insert","lines":["()"],"id":41}],[{"start":{"row":135,"column":25},"end":{"row":135,"column":26},"action":"insert","lines":["-"],"id":42},{"start":{"row":135,"column":26},"end":{"row":135,"column":27},"action":"insert","lines":[">"]},{"start":{"row":135,"column":27},"end":{"row":135,"column":28},"action":"insert","lines":["j"]},{"start":{"row":135,"column":28},"end":{"row":135,"column":29},"action":"insert","lines":["s"]},{"start":{"row":135,"column":29},"end":{"row":135,"column":30},"action":"insert","lines":["o"]},{"start":{"row":135,"column":30},"end":{"row":135,"column":31},"action":"insert","lines":["n"]}],[{"start":{"row":135,"column":31},"end":{"row":135,"column":33},"action":"insert","lines":["()"],"id":43}],[{"start":{"row":135,"column":32},"end":{"row":135,"column":34},"action":"insert","lines":["[]"],"id":44}],[{"start":{"row":135,"column":33},"end":{"row":135,"column":35},"action":"insert","lines":["''"],"id":45}],[{"start":{"row":135,"column":34},"end":{"row":135,"column":35},"action":"insert","lines":["p"],"id":46},{"start":{"row":135,"column":35},"end":{"row":135,"column":36},"action":"insert","lines":["r"]},{"start":{"row":135,"column":36},"end":{"row":135,"column":37},"action":"insert","lines":["o"]},{"start":{"row":135,"column":37},"end":{"row":135,"column":38},"action":"insert","lines":["d"]},{"start":{"row":135,"column":38},"end":{"row":135,"column":39},"action":"insert","lines":["u"]},{"start":{"row":135,"column":39},"end":{"row":135,"column":40},"action":"insert","lines":["c"]},{"start":{"row":135,"column":40},"end":{"row":135,"column":41},"action":"insert","lines":["t"]},{"start":{"row":135,"column":41},"end":{"row":135,"column":42},"action":"insert","lines":["s"]}],[{"start":{"row":135,"column":43},"end":{"row":135,"column":44},"action":"insert","lines":[" "],"id":47},{"start":{"row":135,"column":44},"end":{"row":135,"column":45},"action":"insert","lines":["="]},{"start":{"row":135,"column":45},"end":{"row":135,"column":46},"action":"insert","lines":[">"]}],[{"start":{"row":135,"column":46},"end":{"row":135,"column":47},"action":"insert","lines":[" "],"id":48}],[{"start":{"row":135,"column":47},"end":{"row":135,"column":49},"action":"insert","lines":["''"],"id":49}],[{"start":{"row":135,"column":47},"end":{"row":135,"column":49},"action":"remove","lines":["''"],"id":50}],[{"start":{"row":135,"column":47},"end":{"row":135,"column":48},"action":"insert","lines":["$"],"id":51},{"start":{"row":135,"column":48},"end":{"row":135,"column":49},"action":"insert","lines":["a"]},{"start":{"row":135,"column":49},"end":{"row":135,"column":50},"action":"insert","lines":["l"]},{"start":{"row":135,"column":50},"end":{"row":135,"column":51},"action":"insert","lines":["l"]},{"start":{"row":135,"column":51},"end":{"row":135,"column":52},"action":"insert","lines":["_"]},{"start":{"row":135,"column":52},"end":{"row":135,"column":53},"action":"insert","lines":["p"]},{"start":{"row":135,"column":53},"end":{"row":135,"column":54},"action":"insert","lines":["r"]}],[{"start":{"row":135,"column":54},"end":{"row":135,"column":55},"action":"insert","lines":["o"],"id":52},{"start":{"row":135,"column":55},"end":{"row":135,"column":56},"action":"insert","lines":["d"]},{"start":{"row":135,"column":56},"end":{"row":135,"column":57},"action":"insert","lines":["u"]},{"start":{"row":135,"column":57},"end":{"row":135,"column":58},"action":"insert","lines":["c"]},{"start":{"row":135,"column":58},"end":{"row":135,"column":59},"action":"insert","lines":["s"]},{"start":{"row":135,"column":59},"end":{"row":135,"column":60},"action":"insert","lines":["t"]}],[{"start":{"row":135,"column":59},"end":{"row":135,"column":60},"action":"remove","lines":["t"],"id":53},{"start":{"row":135,"column":58},"end":{"row":135,"column":59},"action":"remove","lines":["s"]}],[{"start":{"row":135,"column":58},"end":{"row":135,"column":59},"action":"insert","lines":["t"],"id":54},{"start":{"row":135,"column":59},"end":{"row":135,"column":60},"action":"insert","lines":["s"]}],[{"start":{"row":135,"column":62},"end":{"row":135,"column":63},"action":"insert","lines":[";"],"id":55}],[{"start":{"row":20,"column":5},"end":{"row":99,"column":4},"action":"remove","lines":["","","    public function productName(Request $request)","    {","    \t","    \t$product_json = array('product_name' => '', 'brand_name' => '', 'img' => '');","        $product_names = [];","        $all_product = [];","","        $categorie_id = Input::get('category');","         if(Cookie::has('zip_code') || Cookie::has('distance')){","            $zip_code = Cookie::get('zip_code');","            $zip_code = str_replace(' ', '+', $zip_code);","            $zip_code = str_replace('%', '+', $zip_code);","            $requested_distance = intval(Cookie::get('distance'));","            $responses = [];","            $stores = $this->store_repository->getAll();","            foreach ($stores as $store) {","                $responses[] = $store->store_name;","                $address1 = str_replace(' ', '+', $store->address1);               ","                $address2 = str_replace(' ', '+', $store->address2);","                $city = str_replace(' ', '+', $store->city);","","                $country_name = str_replace(' ', '+', $store->country->name);","                $zip = $store->sip;","                $files = 'https://maps.googleapis.com/maps/api/distancematrix/json?units=imperial&origins='.$zip_code.'&destinations='.$address1.','.$city.','.$zip.'&sensor=false';","                $result = file_get_contents($files);","                $output = json_decode($result, true);","                if($output['status'] != \"INVALID_REQUEST\" && !empty($output['rows'][0]) && !empty($output['rows'][0]['elements'][0])){","                    if($output['rows'][0]['elements'][0]['status'] != \"NOT_FOUND\" && $output['rows'][0]['elements'][0]['status'] != \"ZERO_RESULTS\"){","                        $distances = $output['rows'][0]['elements'][0]['distance']['text'];","                        $distances = str_replace(',', '', $distances);","                        $distance = intval($distances);","                        if($distance < $requested_distance){","                           foreach ($store->brands as $brand) {","                              $brand_ids[] = (string) $brand->brand_id;","                           }","                        }","                    }","                }","            }","            /*$brands_param = [];","            If(Input::has('brand'))","                $brands_param = explode(',', Input::get('brand'));","            else","                $brands_param = $brand_ids;*/","            Input::merge(['local_store' => 'a store local']);","            //dd($brand_ids);","            if(!empty($brand_ids)){","                if($categorie_id != 0){","                   $all_product = $this->product_repository->getProductByCategory($categorie_id, $brand_ids);","                }else{","                   $all_product = $this->product_repository->getProductByCategory([], $brand_ids);","                }","            }else{","                $brand_ids[] = 0;","                if($categorie_id != 0){","                   $all_product = $this->product_repository->getProductByCategory($categorie_id, $brand_ids);","                }else{","                   $all_product = $this->product_repository->getProductByCategory([], $brand_ids);","                }","            }","        }else{","           if($categorie_id != 0){","               $all_product = $this->product_repository->getProductByCategory($categorie_id, []);","            }else{","               $all_product = $this->product_repository->getProductByCategory([], []);","            }","        }","        ","\t\tforeach ($all_product as $product) {","\t\t\t$product_json['product_name'] = $product->getByLanguageId(app('language')->language_id)->product_name;","            $product_json['brand_name'] =  $product->brand['brand_name'];","            $product_json['img'] = 'upload/product/thumb/'.$product->images;","    \t    $product_names[] = $product_json;","        }","","\t\treturn response()->json($product_names);","    }","    "],"id":56}],[{"start":{"row":20,"column":5},"end":{"row":21,"column":0},"action":"insert","lines":["",""],"id":57},{"start":{"row":21,"column":0},"end":{"row":21,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":57,"column":64},"end":{"row":57,"column":65},"action":"insert","lines":["r"],"id":63},{"start":{"row":57,"column":65},"end":{"row":57,"column":66},"action":"insert","lines":["o"]},{"start":{"row":57,"column":66},"end":{"row":57,"column":67},"action":"insert","lines":["d"]},{"start":{"row":57,"column":67},"end":{"row":57,"column":68},"action":"insert","lines":["u"]},{"start":{"row":57,"column":68},"end":{"row":57,"column":69},"action":"insert","lines":["c"]},{"start":{"row":57,"column":69},"end":{"row":57,"column":70},"action":"insert","lines":["t"]}],[{"start":{"row":57,"column":64},"end":{"row":57,"column":65},"action":"remove","lines":["o"],"id":62}],[{"start":{"row":57,"column":63},"end":{"row":57,"column":64},"action":"insert","lines":["p"],"id":61},{"start":{"row":57,"column":64},"end":{"row":57,"column":65},"action":"insert","lines":["o"]}],[{"start":{"row":57,"column":62},"end":{"row":57,"column":64},"action":"insert","lines":["''"],"id":60}],[{"start":{"row":57,"column":61},"end":{"row":57,"column":62},"action":"insert","lines":[" "],"id":59}],[{"start":{"row":57,"column":60},"end":{"row":57,"column":61},"action":"insert","lines":[","],"id":58}]]},"timestamp":1526559539083}