{"filter":false,"title":"WishlistController.php","tooltip":"/app/Http/Controllers/Front/WishlistController.php","undoManager":{"mark":3,"position":3,"stack":[[{"start":{"row":103,"column":2},"end":{"row":104,"column":0},"action":"insert","lines":["",""],"id":2},{"start":{"row":104,"column":0},"end":{"row":104,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":104,"column":1},"end":{"row":105,"column":0},"action":"insert","lines":["",""]},{"start":{"row":105,"column":0},"end":{"row":105,"column":1},"action":"insert","lines":["\t"]}],[{"start":{"row":105,"column":1},"end":{"row":124,"column":2},"action":"insert","lines":["function remove_in_list($id){","\t\tif(auth()->check()){","\t\t\t$wishlist_id = $this->findIdWishlistInList($id);","\t\t\t$this->model->destroy($wishlist_id);","\t\t}else{","\t\t\t$id_user = Cookie::get('id_user_browser');","\t\t\t$all_wishlist_products = (\\Cache::has('wishlist_product')) ? \\Cache::get('wishlist_product') : [];","\t\t\tif(!empty($all_wishlist_products)){","\t\t\t\t$products_user = (array_key_exists($id_user, $all_wishlist_products)) ? $all_wishlist_products[$id_user] : [];","\t\t\t\tif(!empty($products_user))","\t\t\t\t\tunset($products_user[$id]);","\t\t\t\tif(array_key_exists($id_user, $all_wishlist_products)){","\t\t\t\t\t$all_wishlist_products[$id_user] = $products_user;","\t\t\t\t}","\t\t\t}","\t\t\t\\Cache::put('wishlist_product', $all_wishlist_products, \\App\\Models\\Wishlist::CACHE_TIME_FOR_WISHLIST);\t","\t\t}","\t\tflash()->success(trans('product.wishlist_remove'));","\t\treturn redirect()->to('wishlist');","\t}"],"id":3}],[{"start":{"row":124,"column":2},"end":{"row":125,"column":0},"action":"insert","lines":["",""],"id":4},{"start":{"row":125,"column":0},"end":{"row":125,"column":1},"action":"insert","lines":["\t"]}],[{"start":{"row":125,"column":1},"end":{"row":134,"column":2},"action":"insert","lines":["function findIdWishlistInList($id){","","\t\tif(auth()->check()){ ","\t\t    $id_wishlist = $this->model->select('wishlist_id')->where('product_id','=',$id)->where('user_id','=',\\Auth::user()->user_id)->first();","\t    \t$response = $id_wishlist->wishlist_id;","\t\t}else{","\t\t\t$response = $id;","\t\t}\t","\t\treturn $response;","\t}"],"id":5}]]},"ace":{"folds":[],"scrolltop":1353,"scrollleft":0,"selection":{"start":{"row":134,"column":2},"end":{"row":134,"column":2},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":3,"state":"php-start","mode":"ace/mode/php"}},"timestamp":1528293339856,"hash":"cca705b3dd730d676d80ac889e314e199bf0224e"}