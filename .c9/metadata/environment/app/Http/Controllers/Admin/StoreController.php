{"changed":true,"filter":false,"title":"StoreController.php","tooltip":"/app/Http/Controllers/Admin/StoreController.php","value":"<?php\n\nnamespace App\\Http\\Controllers\\Admin;\n\nuse App\\BrandTag;\nuse App\\Http\\Requests\\Admin\\StoreRequest;\nuse App\\Interfaces\\BrandRepositoryInterface;\nuse App\\Interfaces\\RegionRepositoryInterface;\nuse App\\Interfaces\\StoreRepositoryInterface;\nuse App\\Models\\Brand;\nuse App\\Service\\UploadService;\nuse App\\Store;\nuse Illuminate\\Http\\Request;\nuse App\\Http\\Controllers\\Controller;\nuse Yajra\\Datatables\\Facades\\Datatables;\n\nclass StoreController extends Controller\n{\n\tprotected $region_repository;\n\tprotected $store_repository;\n\tprotected $upload_service;\n\tprotected $brand_repository;\n\n\tpublic function __construct(StoreRepositoryInterface $store_repo, RegionRepositoryInterface $region_repo, UploadService $uploadService, BrandRepositoryInterface $brand_repo)\n\t{\n\t\t$this->store_repository = $store_repo;\n\t\t$this->region_repository = $region_repo;\n\t\t$this->upload_service = $uploadService;\n\t\t$this->brand_repository = $brand_repo;\n\t}\n\n\t/**\n\t * Display a listing of the resource.\n\t *\n\t * @return \\Illuminate\\Http\\Response\n\t */\n\tpublic function index()\n\t{\n\t\t$stores = Datatables::collection($this->store_repository->getAll())->make(true);\n\t\t$stores = $stores->getData();\n\t\t\n\t\treturn view('admin.store.list', compact('stores'));\n\n\t}\n\n\t/**\n\t * Show the form for creating a new resource.\n\t *\n\t * @return \\Illuminate\\Http\\Response\n\t */\n\tpublic function create()\n\t{\n\t\t$countries = $this->region_repository->getCountries();\n\t\t$store = false;\n\t\t$brands = $this->brand_repository->lists();\n\t\t$brand_tags = BrandTag::get();\n\t\treturn view('admin.store.form', compact('countries','store','brands','brand_tags'));\n\t}\n\n\tpublic function store(StoreRequest $store_request)\n\t{\n\n\t\t$all_input = $store_request->all();\n\t\tif($store_request->has('store')){\n\t\t\tforeach ($store_request->get('store') as $index=>$store)\n\t\t\t{\n\t\t\t\t$logo_name = \"\";\n\t\t\t\tif ($store_request->hasFile(\"store.$index.logo\")) {\n\t\t\t\t\t$file = $store_request->file(\"store.$index.logo\");\n\t\t\t\t\t$logo_name = $this->upload_service->upload($file, Store::LOGO_IMG_PATH);\n\t\t\t\t\t$all_input['store'][$index]['logo_image'] = $logo_name;\n\t\t\t\t}\n\t\t\t\t$shop_image = \"\";\n\t\t\t\tif ($store_request->hasFile(\"store.$index.shop_image\")) {\n\t\t\t\t\t$file = $store_request->file(\"store.$index.shop_image\");\n\t\t\t\t\t$shop_image = $this->upload_service->upload($file, Store::SHOP_IMG_PATH);\n\t\t\t\t\t$all_input['store'][$index]['shop_image'] = $shop_image;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t$store = $this->store_repository->save($all_input);\n\t\tflash()->success(config('message.store.add-success'));\n\t\treturn redirect()->to('admin/store');\n\t}\n\n\n\t/**\n\t * Show the form for editing the specified resource.\n\t *\n\t * @param  int $id\n\t * @return \\Illuminate\\Http\\Response\n\t */\n\tpublic function edit($id)\n\t{\n\t\t$store = $this->store_repository->getById($id);\n\t\t$countries = $this->region_repository->getCountries();\n\t\t$brands = $this->brand_repository->lists();\n\t\t$brand_tags = BrandTag::get();\n\t\treturn view('admin.store.form', compact('countries','store','brands','brand_tags'));\n\t}\n\n\t/**\n\t * Update the specified resource in storage.\n\t *\n\t * @param  \\Illuminate\\Http\\Request $request\n\t * @param  int $id\n\t * @return \\Illuminate\\Http\\Response\n\t */\n\tpublic function update($id,StoreRequest $store_request)\n\t{\n\t\t$all_input = $store_request->all();\n\t\tif($store_request->has('store')){\n\t\t\tforeach ($store_request->get('store') as $index=>$store)\n\t\t\t{\n\t\t\t\t$logo_name = \"\";\n\t\t\t\tif ($store_request->hasFile(\"store.$index.logo\")) {\n\t\t\t\t\t$file = $store_request->file(\"store.$index.logo\");\n\t\t\t\t\t$logo_name = $this->upload_service->upload($file, Store::LOGO_IMG_PATH);\n\t\t\t\t\t$all_input['store'][$index]['logo_image'] = $logo_name;\n\t\t\t\t}\n\t\t\t\t$shop_image = \"\";\n\t\t\t\tif ($store_request->hasFile(\"store.$index.shop_image\")) {\n\t\t\t\t\t$file = $store_request->file(\"store.$index.shop_image\");\n\t\t\t\t\t$shop_image = $this->upload_service->upload($file, Store::SHOP_IMG_PATH);\n\t\t\t\t\t$all_input['store'][$index]['shop_image'] = $shop_image;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t$store = $this->store_repository->updateById($id, $all_input);\n\t\tflash()->success(config('message.store.update-success'));\n\t\treturn redirect()->to('admin/store');\n\t}\n\n\t/**\n\t * Remove the specified resource from storage.\n\t *\n\t * @param  int $id\n\t * @return \\Illuminate\\Http\\Response\n\t */\n\tpublic function destroy($id)\n\t{\n\t\tif ($this->store_repository->deleteById($id)) {\n\t\t\tflash()->success(config('message.store.delete-success'));\n\t\t} else {\n\t\t\tflash()->error(config('message.store.delete-error'));\n\t\t}\n\t\treturn redirect()->to('admin/store');\n\t}\n\n\tpublic function getCoordinates(Request $request)\n\t{\n\t\t$input = $request->all();\n\t\t$address = $input['address1'].', '.$input['address2'].', '.$input['city'].', '.$input['zip'].', '.$input['state'].', '.$input['country'];\n//\t\t$address = 'Cafe Coffee Day, INSIDE HPCL Petrol Bunk, Mumbai - Goa Highway,Mangaon, Maharashtra, India';\n\t\t$prepAddr = str_replace(' ','+',$address);\n//\t\techo $prepAddr;exit;\n\t\t$geocode=file_get_contents('http://maps.google.com/maps/api/geocode/json?address='.$prepAddr.'&sensor=false');\n\t\t$output= json_decode($geocode);\n\n\t\tif(empty($output->results)){\n\t\t\treturn response()->json(['status'=>false,'msg'=>'Address not found']);\n\t\t} else {\n\t\t\t$lat = $output->results[0]->geometry->location->lat;\n\t\t\t$long = $output->results[0]->geometry->location->lng;\n\t\t\treturn response()->json(['status'=>true,'latitude'=>$lat,'longitude'=>$long]);\n\t\t}\n\t}\n\n\tpublic function getHtml($index)\n\t{\n\t\t$countries = $this->region_repository->getCountries();\n\t\t$store = false;\n\t\t$brands = Brand::with('parent')->active()->get();\n\t\t$brand_tags = BrandTag::get();\n\t\treturn view('admin.store.store-tab',compact('index','countries','store','brands','brand_tags'));\n\t}\n}\n","undoManager":{"mark":99,"position":100,"stack":[[{"start":{"row":38,"column":7},"end":{"row":38,"column":8},"action":"insert","lines":[" "],"id":10},{"start":{"row":38,"column":8},"end":{"row":38,"column":9},"action":"insert","lines":["="]}],[{"start":{"row":38,"column":9},"end":{"row":38,"column":10},"action":"insert","lines":[" "],"id":11}],[{"start":{"row":38,"column":10},"end":{"row":38,"column":43},"action":"insert","lines":["$this->store_repository->getAll()"],"id":12}],[{"start":{"row":38,"column":43},"end":{"row":38,"column":44},"action":"insert","lines":[";"],"id":13}],[{"start":{"row":39,"column":5},"end":{"row":39,"column":38},"action":"remove","lines":["$this->store_repository->getAll()"],"id":14}],[{"start":{"row":39,"column":2},"end":{"row":40,"column":0},"action":"insert","lines":["",""],"id":15},{"start":{"row":40,"column":0},"end":{"row":40,"column":2},"action":"insert","lines":["\t\t"]}],[{"start":{"row":39,"column":2},"end":{"row":39,"column":3},"action":"insert","lines":["f"],"id":16},{"start":{"row":39,"column":3},"end":{"row":39,"column":4},"action":"insert","lines":["o"]},{"start":{"row":39,"column":4},"end":{"row":39,"column":5},"action":"insert","lines":["r"]},{"start":{"row":39,"column":5},"end":{"row":39,"column":6},"action":"insert","lines":["e"]}],[{"start":{"row":39,"column":2},"end":{"row":39,"column":6},"action":"remove","lines":["fore"],"id":17},{"start":{"row":39,"column":2},"end":{"row":41,"column":3},"action":"insert","lines":["foreach ($variable as $value) {","\t\t\t// code...","\t\t}"]}],[{"start":{"row":39,"column":12},"end":{"row":39,"column":20},"action":"remove","lines":["variable"],"id":18},{"start":{"row":39,"column":12},"end":{"row":39,"column":13},"action":"insert","lines":["t"]},{"start":{"row":39,"column":13},"end":{"row":39,"column":14},"action":"insert","lines":["e"]},{"start":{"row":39,"column":14},"end":{"row":39,"column":15},"action":"insert","lines":["s"]},{"start":{"row":39,"column":15},"end":{"row":39,"column":16},"action":"insert","lines":["t"]}],[{"start":{"row":39,"column":21},"end":{"row":39,"column":26},"action":"remove","lines":["value"],"id":19},{"start":{"row":39,"column":21},"end":{"row":39,"column":22},"action":"insert","lines":["t"]}],[{"start":{"row":40,"column":3},"end":{"row":40,"column":13},"action":"remove","lines":["// code..."],"id":20},{"start":{"row":40,"column":3},"end":{"row":40,"column":4},"action":"insert","lines":["f"]},{"start":{"row":40,"column":4},"end":{"row":40,"column":5},"action":"insert","lines":["o"]},{"start":{"row":40,"column":5},"end":{"row":40,"column":6},"action":"insert","lines":["r"]},{"start":{"row":40,"column":6},"end":{"row":40,"column":7},"action":"insert","lines":["e"]}],[{"start":{"row":40,"column":3},"end":{"row":40,"column":7},"action":"remove","lines":["fore"],"id":21},{"start":{"row":40,"column":3},"end":{"row":42,"column":4},"action":"insert","lines":["foreach ($variable as $value) {","\t\t\t\t// code...","\t\t\t}"]}],[{"start":{"row":40,"column":13},"end":{"row":40,"column":21},"action":"remove","lines":["variable"],"id":22},{"start":{"row":40,"column":13},"end":{"row":40,"column":14},"action":"insert","lines":["t"]},{"start":{"row":40,"column":14},"end":{"row":40,"column":15},"action":"insert","lines":[">"]}],[{"start":{"row":40,"column":14},"end":{"row":40,"column":15},"action":"remove","lines":[">"],"id":23}],[{"start":{"row":40,"column":14},"end":{"row":40,"column":15},"action":"insert","lines":["-"],"id":24},{"start":{"row":40,"column":15},"end":{"row":40,"column":16},"action":"insert","lines":[">"]}],[{"start":{"row":40,"column":16},"end":{"row":40,"column":29},"action":"insert","lines":["orderRequests"],"id":25}],[{"start":{"row":41,"column":4},"end":{"row":41,"column":14},"action":"remove","lines":["// code..."],"id":26},{"start":{"row":41,"column":4},"end":{"row":41,"column":5},"action":"insert","lines":["r"]}],[{"start":{"row":41,"column":5},"end":{"row":41,"column":7},"action":"insert","lines":["[]"],"id":27}],[{"start":{"row":41,"column":4},"end":{"row":41,"column":5},"action":"insert","lines":["$"],"id":29}],[{"start":{"row":41,"column":8},"end":{"row":41,"column":9},"action":"insert","lines":["="],"id":30},{"start":{"row":41,"column":9},"end":{"row":41,"column":10},"action":"insert","lines":["$"]}],[{"start":{"row":41,"column":10},"end":{"row":41,"column":11},"action":"insert","lines":["c"],"id":31},{"start":{"row":41,"column":11},"end":{"row":41,"column":12},"action":"insert","lines":["a"]}],[{"start":{"row":41,"column":11},"end":{"row":41,"column":12},"action":"remove","lines":["a"],"id":32},{"start":{"row":41,"column":10},"end":{"row":41,"column":11},"action":"remove","lines":["c"]}],[{"start":{"row":41,"column":10},"end":{"row":41,"column":11},"action":"insert","lines":["v"],"id":33},{"start":{"row":41,"column":11},"end":{"row":41,"column":12},"action":"insert","lines":["a"]},{"start":{"row":41,"column":12},"end":{"row":41,"column":13},"action":"insert","lines":["l"]},{"start":{"row":41,"column":13},"end":{"row":41,"column":14},"action":"insert","lines":["u"]},{"start":{"row":41,"column":14},"end":{"row":41,"column":15},"action":"insert","lines":["e"]}],[{"start":{"row":41,"column":15},"end":{"row":41,"column":16},"action":"insert","lines":["-"],"id":34},{"start":{"row":41,"column":16},"end":{"row":41,"column":17},"action":"insert","lines":[">"]},{"start":{"row":41,"column":17},"end":{"row":41,"column":18},"action":"insert","lines":["i"]},{"start":{"row":41,"column":18},"end":{"row":41,"column":19},"action":"insert","lines":["t"]},{"start":{"row":41,"column":19},"end":{"row":41,"column":20},"action":"insert","lines":["e"]},{"start":{"row":41,"column":20},"end":{"row":41,"column":21},"action":"insert","lines":["m"]}],[{"start":{"row":41,"column":21},"end":{"row":41,"column":22},"action":"insert","lines":["_"],"id":35},{"start":{"row":41,"column":22},"end":{"row":41,"column":23},"action":"insert","lines":["i"]},{"start":{"row":41,"column":23},"end":{"row":41,"column":24},"action":"insert","lines":["d"]},{"start":{"row":41,"column":24},"end":{"row":41,"column":25},"action":"insert","lines":[";"]}],[{"start":{"row":37,"column":2},"end":{"row":38,"column":0},"action":"insert","lines":["",""],"id":36},{"start":{"row":38,"column":0},"end":{"row":38,"column":2},"action":"insert","lines":["\t\t"]},{"start":{"row":38,"column":2},"end":{"row":38,"column":3},"action":"insert","lines":["$"]},{"start":{"row":38,"column":3},"end":{"row":38,"column":4},"action":"insert","lines":["r"]}],[{"start":{"row":38,"column":4},"end":{"row":38,"column":5},"action":"insert","lines":["="],"id":37}],[{"start":{"row":38,"column":5},"end":{"row":38,"column":7},"action":"insert","lines":["[]"],"id":38}],[{"start":{"row":38,"column":7},"end":{"row":38,"column":8},"action":"insert","lines":[";"],"id":39}],[{"start":{"row":45,"column":5},"end":{"row":45,"column":6},"action":"insert","lines":["$"],"id":40},{"start":{"row":45,"column":6},"end":{"row":45,"column":7},"action":"insert","lines":["r"]}],[{"start":{"row":45,"column":9},"end":{"row":45,"column":11},"action":"insert","lines":["*/"],"id":41},{"start":{"row":38,"column":2},"end":{"row":38,"column":4},"action":"insert","lines":["/*"]}],[{"start":{"row":46,"column":82},"end":{"row":47,"column":18},"action":"remove","lines":["","\t\t/*dd($stores);*/"],"id":42}],[{"start":{"row":38,"column":3},"end":{"row":38,"column":4},"action":"remove","lines":["*"],"id":43},{"start":{"row":38,"column":2},"end":{"row":38,"column":3},"action":"remove","lines":["/"]}],[{"start":{"row":45,"column":10},"end":{"row":45,"column":11},"action":"remove","lines":["/"],"id":44},{"start":{"row":45,"column":9},"end":{"row":45,"column":10},"action":"remove","lines":["*"]}],[{"start":{"row":38,"column":2},"end":{"row":45,"column":9},"action":"remove","lines":["$r=[];","\t\t$test = $this->store_repository->getAll();","\t\tforeach ($test as $t) {","\t\t\tforeach ($t->orderRequests as $value) {","\t\t\t\t$r[]=$value->item_id;","\t\t\t}","\t\t}","\t\tdd($r);"],"id":45}],[{"start":{"row":37,"column":2},"end":{"row":38,"column":2},"action":"remove","lines":["","\t\t"],"id":46}],[{"start":{"row":40,"column":2},"end":{"row":41,"column":0},"action":"insert","lines":["",""],"id":47},{"start":{"row":41,"column":0},"end":{"row":41,"column":2},"action":"insert","lines":["\t\t"]}],[{"start":{"row":40,"column":2},"end":{"row":47,"column":9},"action":"insert","lines":["$r=[];","\t\t$test = $this->store_repository->getAll();","\t\tforeach ($test as $t) {","\t\t\tforeach ($t->orderRequests as $value) {","\t\t\t\t$r[]=$value->item_id;","\t\t\t}","\t\t}","\t\tdd($r);"],"id":48}],[{"start":{"row":41,"column":2},"end":{"row":41,"column":7},"action":"remove","lines":["$test"],"id":49},{"start":{"row":41,"column":2},"end":{"row":41,"column":9},"action":"insert","lines":["$stores"]}],[{"start":{"row":42,"column":11},"end":{"row":42,"column":16},"action":"remove","lines":["$test"],"id":50},{"start":{"row":42,"column":11},"end":{"row":42,"column":18},"action":"insert","lines":["$stores"]}],[{"start":{"row":47,"column":9},"end":{"row":47,"column":11},"action":"insert","lines":["*/"],"id":51},{"start":{"row":40,"column":2},"end":{"row":40,"column":4},"action":"insert","lines":["/*"]}],[{"start":{"row":47,"column":10},"end":{"row":47,"column":11},"action":"remove","lines":["/"],"id":52},{"start":{"row":47,"column":9},"end":{"row":47,"column":10},"action":"remove","lines":["*"]}],[{"start":{"row":40,"column":3},"end":{"row":40,"column":4},"action":"remove","lines":["*"],"id":53},{"start":{"row":40,"column":2},"end":{"row":40,"column":3},"action":"remove","lines":["/"]}],[{"start":{"row":42,"column":27},"end":{"row":43,"column":0},"action":"insert","lines":["",""],"id":54},{"start":{"row":43,"column":0},"end":{"row":43,"column":3},"action":"insert","lines":["\t\t\t"]},{"start":{"row":43,"column":3},"end":{"row":43,"column":4},"action":"insert","lines":["d"]},{"start":{"row":43,"column":4},"end":{"row":43,"column":5},"action":"insert","lines":["d"]}],[{"start":{"row":43,"column":5},"end":{"row":43,"column":7},"action":"insert","lines":["()"],"id":55}],[{"start":{"row":43,"column":7},"end":{"row":43,"column":8},"action":"insert","lines":[";"],"id":56}],[{"start":{"row":43,"column":6},"end":{"row":43,"column":7},"action":"insert","lines":["$"],"id":57},{"start":{"row":43,"column":7},"end":{"row":43,"column":8},"action":"insert","lines":["t"]},{"start":{"row":43,"column":8},"end":{"row":43,"column":9},"action":"insert","lines":["-"]},{"start":{"row":43,"column":9},"end":{"row":43,"column":10},"action":"insert","lines":[">"]}],[{"start":{"row":43,"column":10},"end":{"row":43,"column":11},"action":"insert","lines":["o"],"id":58},{"start":{"row":43,"column":11},"end":{"row":43,"column":12},"action":"insert","lines":["r"]},{"start":{"row":43,"column":12},"end":{"row":43,"column":13},"action":"insert","lines":["d"]},{"start":{"row":43,"column":13},"end":{"row":43,"column":14},"action":"insert","lines":["e"]},{"start":{"row":43,"column":14},"end":{"row":43,"column":15},"action":"insert","lines":["r"]}],[{"start":{"row":43,"column":15},"end":{"row":43,"column":16},"action":"insert","lines":["_"],"id":59}],[{"start":{"row":43,"column":15},"end":{"row":43,"column":16},"action":"remove","lines":["_"],"id":60}],[{"start":{"row":43,"column":15},"end":{"row":43,"column":16},"action":"insert","lines":["R"],"id":61},{"start":{"row":43,"column":16},"end":{"row":43,"column":17},"action":"insert","lines":["e"]},{"start":{"row":43,"column":17},"end":{"row":43,"column":18},"action":"insert","lines":["q"]},{"start":{"row":43,"column":18},"end":{"row":43,"column":19},"action":"insert","lines":["u"]},{"start":{"row":43,"column":19},"end":{"row":43,"column":20},"action":"insert","lines":["e"]},{"start":{"row":43,"column":20},"end":{"row":43,"column":21},"action":"insert","lines":["s"]},{"start":{"row":43,"column":21},"end":{"row":43,"column":22},"action":"insert","lines":["t"]},{"start":{"row":43,"column":22},"end":{"row":43,"column":23},"action":"insert","lines":["e"]}],[{"start":{"row":43,"column":22},"end":{"row":43,"column":23},"action":"remove","lines":["e"],"id":62}],[{"start":{"row":43,"column":22},"end":{"row":43,"column":23},"action":"insert","lines":["s"],"id":63}],[{"start":{"row":43,"column":23},"end":{"row":43,"column":25},"action":"insert","lines":["()"],"id":64}],[{"start":{"row":42,"column":27},"end":{"row":43,"column":27},"action":"remove","lines":["","\t\t\tdd($t->orderRequests());"],"id":65}],[{"start":{"row":47,"column":9},"end":{"row":47,"column":11},"action":"insert","lines":["*/"],"id":66},{"start":{"row":40,"column":2},"end":{"row":40,"column":4},"action":"insert","lines":["/*"]}],[{"start":{"row":40,"column":3},"end":{"row":40,"column":4},"action":"remove","lines":["*"],"id":67},{"start":{"row":40,"column":2},"end":{"row":40,"column":3},"action":"remove","lines":["/"]}],[{"start":{"row":47,"column":10},"end":{"row":47,"column":11},"action":"remove","lines":["/"],"id":68},{"start":{"row":47,"column":9},"end":{"row":47,"column":10},"action":"remove","lines":["*"]}],[{"start":{"row":42,"column":23},"end":{"row":42,"column":24},"action":"remove","lines":["t"],"id":69},{"start":{"row":42,"column":23},"end":{"row":42,"column":24},"action":"insert","lines":["s"]},{"start":{"row":42,"column":24},"end":{"row":42,"column":25},"action":"insert","lines":["t"]},{"start":{"row":42,"column":25},"end":{"row":42,"column":26},"action":"insert","lines":["o"]},{"start":{"row":42,"column":26},"end":{"row":42,"column":27},"action":"insert","lines":["r"]},{"start":{"row":42,"column":27},"end":{"row":42,"column":28},"action":"insert","lines":["e"]}],[{"start":{"row":43,"column":13},"end":{"row":43,"column":14},"action":"remove","lines":["t"],"id":70},{"start":{"row":43,"column":13},"end":{"row":43,"column":14},"action":"insert","lines":["s"]},{"start":{"row":43,"column":14},"end":{"row":43,"column":15},"action":"insert","lines":["t"]},{"start":{"row":43,"column":15},"end":{"row":43,"column":16},"action":"insert","lines":["o"]},{"start":{"row":43,"column":16},"end":{"row":43,"column":17},"action":"insert","lines":["r"]},{"start":{"row":43,"column":17},"end":{"row":43,"column":18},"action":"insert","lines":["e"]}],[{"start":{"row":44,"column":7},"end":{"row":44,"column":8},"action":"insert","lines":["$"],"id":71},{"start":{"row":44,"column":8},"end":{"row":44,"column":9},"action":"insert","lines":["v"]},{"start":{"row":44,"column":9},"end":{"row":44,"column":10},"action":"insert","lines":["a"]},{"start":{"row":44,"column":10},"end":{"row":44,"column":11},"action":"insert","lines":["l"]}],[{"start":{"row":44,"column":11},"end":{"row":44,"column":12},"action":"insert","lines":["u"],"id":72},{"start":{"row":44,"column":12},"end":{"row":44,"column":13},"action":"insert","lines":["e"]},{"start":{"row":44,"column":13},"end":{"row":44,"column":14},"action":"insert","lines":["-"]}],[{"start":{"row":44,"column":14},"end":{"row":44,"column":15},"action":"insert","lines":[">"],"id":73},{"start":{"row":44,"column":15},"end":{"row":44,"column":16},"action":"insert","lines":["s"]},{"start":{"row":44,"column":16},"end":{"row":44,"column":17},"action":"insert","lines":["t"]},{"start":{"row":44,"column":17},"end":{"row":44,"column":18},"action":"insert","lines":["o"]},{"start":{"row":44,"column":18},"end":{"row":44,"column":19},"action":"insert","lines":["r"]},{"start":{"row":44,"column":19},"end":{"row":44,"column":20},"action":"insert","lines":["e"]}],[{"start":{"row":44,"column":15},"end":{"row":44,"column":20},"action":"remove","lines":["store"],"id":74},{"start":{"row":44,"column":15},"end":{"row":44,"column":23},"action":"insert","lines":["store_id"]}],[{"start":{"row":44,"column":8},"end":{"row":44,"column":13},"action":"remove","lines":["value"],"id":75},{"start":{"row":44,"column":8},"end":{"row":44,"column":9},"action":"insert","lines":["s"]},{"start":{"row":44,"column":9},"end":{"row":44,"column":10},"action":"insert","lines":["t"]},{"start":{"row":44,"column":10},"end":{"row":44,"column":11},"action":"insert","lines":["o"]},{"start":{"row":44,"column":11},"end":{"row":44,"column":12},"action":"insert","lines":["r"]},{"start":{"row":44,"column":12},"end":{"row":44,"column":13},"action":"insert","lines":["e"]}],[{"start":{"row":44,"column":7},"end":{"row":44,"column":23},"action":"remove","lines":["$store->store_id"],"id":76}],[{"start":{"row":40,"column":8},"end":{"row":41,"column":46},"action":"remove","lines":["","\t\t$stores = $this->store_repository->getAll();"],"id":88}],[{"start":{"row":42,"column":20},"end":{"row":42,"column":26},"action":"remove","lines":["orderR"],"id":106},{"start":{"row":42,"column":20},"end":{"row":42,"column":21},"action":"insert","lines":["r"]}],[{"start":{"row":40,"column":2},"end":{"row":41,"column":0},"action":"insert","lines":["",""],"id":116},{"start":{"row":41,"column":0},"end":{"row":41,"column":2},"action":"insert","lines":["\t\t"]}],[{"start":{"row":40,"column":2},"end":{"row":40,"column":3},"action":"insert","lines":["d"],"id":117},{"start":{"row":40,"column":3},"end":{"row":40,"column":4},"action":"insert","lines":["d"]}],[{"start":{"row":40,"column":4},"end":{"row":40,"column":6},"action":"insert","lines":["()"],"id":118}],[{"start":{"row":40,"column":6},"end":{"row":40,"column":7},"action":"insert","lines":[";"],"id":119}],[{"start":{"row":40,"column":5},"end":{"row":40,"column":6},"action":"insert","lines":["s"],"id":120},{"start":{"row":40,"column":6},"end":{"row":40,"column":7},"action":"insert","lines":["t"]},{"start":{"row":40,"column":7},"end":{"row":40,"column":8},"action":"insert","lines":["o"]},{"start":{"row":40,"column":8},"end":{"row":40,"column":9},"action":"insert","lines":["r"]},{"start":{"row":40,"column":9},"end":{"row":40,"column":10},"action":"insert","lines":["e"]},{"start":{"row":40,"column":10},"end":{"row":40,"column":11},"action":"insert","lines":["s"]}],[{"start":{"row":40,"column":5},"end":{"row":40,"column":6},"action":"insert","lines":["$"],"id":121}],[{"start":{"row":40,"column":14},"end":{"row":40,"column":16},"action":"insert","lines":["*/"],"id":122},{"start":{"row":40,"column":2},"end":{"row":40,"column":4},"action":"insert","lines":["/*"]}],[{"start":{"row":42,"column":31},"end":{"row":43,"column":0},"action":"insert","lines":["",""],"id":123},{"start":{"row":43,"column":0},"end":{"row":43,"column":3},"action":"insert","lines":["\t\t\t"]},{"start":{"row":43,"column":3},"end":{"row":43,"column":4},"action":"insert","lines":["d"]},{"start":{"row":43,"column":4},"end":{"row":43,"column":5},"action":"insert","lines":["d"]}],[{"start":{"row":43,"column":5},"end":{"row":43,"column":7},"action":"insert","lines":["()"],"id":124}],[{"start":{"row":43,"column":6},"end":{"row":43,"column":7},"action":"insert","lines":["$"],"id":125},{"start":{"row":43,"column":7},"end":{"row":43,"column":8},"action":"insert","lines":["s"]},{"start":{"row":43,"column":8},"end":{"row":43,"column":9},"action":"insert","lines":["t"]},{"start":{"row":43,"column":9},"end":{"row":43,"column":10},"action":"insert","lines":["i"]},{"start":{"row":43,"column":10},"end":{"row":43,"column":11},"action":"insert","lines":["r"]},{"start":{"row":43,"column":11},"end":{"row":43,"column":12},"action":"insert","lines":["e"]}],[{"start":{"row":43,"column":11},"end":{"row":43,"column":12},"action":"remove","lines":["e"],"id":126},{"start":{"row":43,"column":10},"end":{"row":43,"column":11},"action":"remove","lines":["r"]},{"start":{"row":43,"column":9},"end":{"row":43,"column":10},"action":"remove","lines":["i"]}],[{"start":{"row":43,"column":9},"end":{"row":43,"column":10},"action":"insert","lines":["p"],"id":127}],[{"start":{"row":43,"column":9},"end":{"row":43,"column":10},"action":"remove","lines":["p"],"id":128}],[{"start":{"row":43,"column":9},"end":{"row":43,"column":10},"action":"insert","lines":["o"],"id":129},{"start":{"row":43,"column":10},"end":{"row":43,"column":11},"action":"insert","lines":["r"]},{"start":{"row":43,"column":11},"end":{"row":43,"column":12},"action":"insert","lines":["e"]},{"start":{"row":43,"column":12},"end":{"row":43,"column":13},"action":"insert","lines":["-"]},{"start":{"row":43,"column":13},"end":{"row":43,"column":14},"action":"insert","lines":[">"]}],[{"start":{"row":43,"column":14},"end":{"row":43,"column":15},"action":"insert","lines":["s"],"id":130},{"start":{"row":43,"column":15},"end":{"row":43,"column":16},"action":"insert","lines":["t"]},{"start":{"row":43,"column":16},"end":{"row":43,"column":17},"action":"insert","lines":["o"]},{"start":{"row":43,"column":17},"end":{"row":43,"column":18},"action":"insert","lines":["r"]},{"start":{"row":43,"column":18},"end":{"row":43,"column":19},"action":"insert","lines":["e"]},{"start":{"row":43,"column":19},"end":{"row":43,"column":20},"action":"insert","lines":["_"]},{"start":{"row":43,"column":20},"end":{"row":43,"column":21},"action":"insert","lines":["n"]},{"start":{"row":43,"column":21},"end":{"row":43,"column":22},"action":"insert","lines":["a"]}],[{"start":{"row":43,"column":22},"end":{"row":43,"column":23},"action":"insert","lines":["m"],"id":131},{"start":{"row":43,"column":23},"end":{"row":43,"column":24},"action":"insert","lines":["e"]}],[{"start":{"row":43,"column":25},"end":{"row":43,"column":26},"action":"insert","lines":[";"],"id":132}],[{"start":{"row":43,"column":13},"end":{"row":43,"column":14},"action":"remove","lines":[">"],"id":133},{"start":{"row":43,"column":12},"end":{"row":43,"column":13},"action":"remove","lines":["-"]}],[{"start":{"row":43,"column":12},"end":{"row":43,"column":13},"action":"insert","lines":["{"],"id":134}],[{"start":{"row":43,"column":12},"end":{"row":43,"column":13},"action":"remove","lines":["{"],"id":135}],[{"start":{"row":43,"column":12},"end":{"row":43,"column":13},"action":"insert","lines":["["],"id":136}],[{"start":{"row":43,"column":23},"end":{"row":43,"column":24},"action":"insert","lines":["]"],"id":137}],[{"start":{"row":43,"column":23},"end":{"row":43,"column":24},"action":"insert","lines":["'"],"id":140}],[{"start":{"row":43,"column":13},"end":{"row":43,"column":14},"action":"insert","lines":["'"],"id":141}],[{"start":{"row":43,"column":14},"end":{"row":43,"column":24},"action":"remove","lines":["store_name"],"id":142}],[{"start":{"row":43,"column":14},"end":{"row":43,"column":15},"action":"remove","lines":["'"],"id":143}],[{"start":{"row":43,"column":13},"end":{"row":43,"column":14},"action":"remove","lines":["'"],"id":144}],[{"start":{"row":43,"column":13},"end":{"row":43,"column":14},"action":"insert","lines":["0"],"id":145}],[{"start":{"row":42,"column":18},"end":{"row":42,"column":19},"action":"insert","lines":["-"],"id":146},{"start":{"row":42,"column":19},"end":{"row":42,"column":20},"action":"insert","lines":[">"]},{"start":{"row":42,"column":20},"end":{"row":42,"column":21},"action":"insert","lines":["d"]},{"start":{"row":42,"column":21},"end":{"row":42,"column":22},"action":"insert","lines":["a"]},{"start":{"row":42,"column":22},"end":{"row":42,"column":23},"action":"insert","lines":["t"]},{"start":{"row":42,"column":23},"end":{"row":42,"column":24},"action":"insert","lines":["a"]}],[{"start":{"row":42,"column":37},"end":{"row":43,"column":17},"action":"remove","lines":["","\t\t\tdd($store[0]);"],"id":147}],[{"start":{"row":47,"column":9},"end":{"row":47,"column":11},"action":"insert","lines":["*/"],"id":148},{"start":{"row":41,"column":2},"end":{"row":41,"column":4},"action":"insert","lines":["/*"]}],[{"start":{"row":41,"column":2},"end":{"row":47,"column":11},"action":"remove","lines":["/*$r=[];","\t\tforeach ($stores->data as $store) {","\t\t\tforeach ($store->requests as $value) {","\t\t\t\t$r[]=$value->item_id;","\t\t\t}","\t\t}","\t\tdd($r);*/"],"id":150}],[{"start":{"row":40,"column":2},"end":{"row":41,"column":2},"action":"remove","lines":["/*dd($stores);*/","\t\t"],"id":151}]]},"ace":{"folds":[],"scrolltop":60,"scrollleft":0,"selection":{"start":{"row":20,"column":27},"end":{"row":20,"column":27},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":7,"state":"php-start","mode":"ace/mode/php"}},"timestamp":1528460993570}